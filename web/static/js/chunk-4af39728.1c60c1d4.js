(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4af39728"],{"063e":function(t,e,a){"use strict";var s=a("df80"),n=a.n(s);n.a},"22ae":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex",attrs:{id:"wrapper"}},[a("side-bar"),a("div",{attrs:{id:"page-content-wrapper"}},[a("top-nav"),t._m(0),a("div",{staticClass:"col-12 table-col",attrs:{id:"main-container"}},[a("sdPicker",{attrs:{onSubmit:t.fetchDates}}),t._m(1)],1)],1),a("div",{staticClass:"modal fade",attrs:{id:"myModal",role:"dialog"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[t._v("×")]),a("h4",{staticClass:"modal-title"},[t._v(t._s(this.selectedGender)+" "+t._s(this.selectedAgeGroup))])]),t._m(2),t._m(3)])])])],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alert alert-info"},[a("strong",[t._v("TX CURR MMD")]),t._v(" Clients that are alive and on treatment in the reporting period and the difference in days between their clinical dispensation visit and next appointment / drug-runout date is: "),a("ul",[a("li",[t._v("<3 months (1 – 89 days)")]),a("li",[t._v("3-5 months (90-179 days)")]),a("li",[t._v("6+ months (180 or more days)")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"table table-striped report",attrs:{id:"cohort-clients"}},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}}),a("th",{staticStyle:{width:"20%"},attrs:{scope:"col"}},[t._v("Age group")]),a("th",{staticStyle:{width:"20%"},attrs:{scope:"col"}},[t._v("Gender")]),a("th",{staticClass:"center-text",attrs:{scope:"col"}},[t._v("# of clients on <3 months of ARVs")]),a("th",{staticClass:"center-text",attrs:{scope:"col"}},[t._v("# of clients on 3 - 5 months of ARVs")]),a("th",{staticClass:"center-text",attrs:{scope:"col"}},[t._v("# of clients on >= 6 months of ARVs")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-body"},[a("table",{attrs:{id:"drill-down"}},[a("tr",[a("th",[t._v("ARV number")]),a("th",[t._v("Regimen")]),a("th",[t._v("Qty")]),a("th",[t._v("Dispensed date")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])}],r=(a("96cf"),a("1da1")),i=a("8051"),o=a("ebd8"),c=a("7c08"),l=a("c1df"),d=a.n(l),u=a("4dfe"),h=a("1157"),f=a.n(h);a("6810");a("2cdf"),a("fd5e"),a("5caa"),a("c3dc"),a("4e95"),a("a8a1"),a("919c"),a("4b69"),a("7dae"),a("a821");var m={name:"reports",components:{"top-nav":o["a"],"side-bar":c["a"],sdPicker:u["a"]},methods:{fetchDates:function(t){this.startDate=t[0],this.endDate=t[1],this.fetchData()},fetchData:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,s,n,r,o,c,l,u,h,f=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.reportingGroups.length>0)){t.next=6;break}s=this.setMinMaxAges(this.reportingGroups[0]),e=s[0],a=s[1],t.next=23;break;case 6:n=["Female","Male"],r=1,o=this.tableRows,c=0;case 10:if(!(c<n.length)){t.next=22;break}l=0;case 12:if(!(l<o.length)){t.next=19;break}if(n[c]==o[l][1]){t.next=15;break}return t.abrupt("continue",16);case 15:this.dTable.fnAddData([r++,o[l][0],o[l][1],o[l][2],o[l][3],o[l][4]]);case 16:l++,t.next=12;break;case 19:c++,t.next=10;break;case 22:return t.abrupt("return");case 23:return this.report_title=sessionStorage.location_name+" TX CURR MMD ",this.report_title+=" between "+d()(this.startDate).format("dddd, Do of MMM YYYY"),this.report_title+=" and "+d()(this.endDate).format("dddd, Do of MMM YYYY"),u="arv_refill_periods?start_date="+this.startDate+"&date="+d()().format("YYYY-MM-DD"),u+="&end_date="+this.endDate+"&program_id=1&org=pepfar",u+="&min_age="+e,u+="&max_age="+a,t.next=32,i["a"].get(u,{},{});case 32:h=t.sent,200===h.status&&(h.json().then((function(t){return f.addRow(t)})),setTimeout((function(){return f.fetchData()}),500));case 34:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),addLink:function(t,e,a,s){console.log(t+" --- "+e);var n=document.createElement("span"),r=document.createElement("a");return r.setAttribute("href","#"),r.setAttribute("age-group",t),r.setAttribute("gender",e),r.setAttribute("column_number",s),r.setAttribute("click","showPoPBox('"+t+"');"),r.innerHTML=a,n.appendChild(r),n.innerHTML},showPoPBox:function(t){console.log(t)},initDataTable:function(){this.dTable=f()("#cohort-clients").dataTable({order:[[0,"asc"]],fixedHeader:!0,paging:!1,dom:"Bfrtip",buttons:[{extend:"copy",title:this.report_title},{extend:"csv",title:this.report_title},{extend:"pdf",title:this.report_title},{extend:"print",title:this.report_title}],columnDefs:[{className:"center-text",targets:3},{className:"center-text",targets:4},{className:"center-text",targets:5}]})},addRow:function(t){for(var e=["Female","Male"],a=this.reportingGroups,s=0;s<e.length;s++){var n=e[s];for(var r in void 0==this.column_3[n]?(this.column_3[n]={},this.column_3[n][a[0]]=0):void 0==this.column_3[n][a[0]]&&(this.column_3[n][a[0]]=0),void 0==this.column_4[n]?(this.column_4[n]={},this.column_4[n][a[0]]=0):void 0==this.column_4[n][a[0]]&&(this.column_4[n][a[0]]=0),void 0==this.column_5[n]?(this.column_5[n]={},this.column_5[n][a[0]]=0):void 0==this.column_5[n][a[0]]&&(this.column_5[n][a[0]]=0),t)if(r==e[s]){var i=t[n];for(var o in i){var c=t[n][o],l=c.prescribed_days;l<60&&(this.column_3[n][a[0]]+=1),l>=60&&l<=150&&(this.column_4[n][a[0]]+=1),l>150&&(this.column_5[n][a[0]]+=1)}}this.tableRows.push([a[0],n,this.column_3[n][a[0]],this.column_4[n][a[0]],this.column_5[n][a[0]]])}this.reportingGroups.shift()},setMinMaxAges:function(t){return"<1 year"==t?[0,0]:"1-4 years"==t?[1,4]:"5-9 years"==t?[5,9]:"10-14 years"==t?[10,14]:"15-19 years"==t?[15,19]:"20-24 years"==t?[20,24]:"25-29 years"==t?[25,29]:"30-34 years"==t?[30,34]:"35-39 years"==t?[35,39]:"40-44 years"==t?[40,44]:"45-49 years"==t?[45,49]:"50 plus years"==t?[50,1e4]:void 0}},mounted:function(){var t=this;setTimeout((function(){return t.initDataTable()}),300)},data:function(){return{report_title:"TX CURR MMD ",reportData:null,dTable:null,startDate:null,endDate:null,rowCounter:1,column_3:{},column_4:{},column_5:{},tableRows:[],selectedAgeGroup:null,selectedGender:null,reportingGroups:["<1 year","1-4 years","5-9 years","10-14 years","15-19 years","20-24 years","25-29 years","30-34 years","35-39 years","40-44 years","45-49 years","50 plus years"]}}},p=m,_=(a("063e"),a("bb60"),a("2877")),v=Object(_["a"])(p,s,n,!1,null,"18fc10b7",null);e["default"]=v.exports},"336a":function(t,e,a){"use strict";var s=a("df61"),n=a.n(s);n.a},"4dfe":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ctrs"},[a("div",{staticClass:"ctr-table"},[a("div",{staticClass:"ctr-row"},[a("div",{staticClass:"ctr-cell"},[a("date-pick",{staticClass:"date-inputs",attrs:{format:t.format,parseDate:t.parseDate,formatDate:t.formatDate,inputAttributes:{placeholder:"Start Date",readonly:!0}},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1),a("div",{staticClass:"ctr-cell"},[a("date-pick",{staticClass:"date-inputs",attrs:{format:t.format,parseDate:t.parseDate,formatDate:t.formatDate,inputAttributes:{placeholder:"End Date",readonly:!0}},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1),a("div",{staticClass:"ctr-cell"},[a("button",{staticClass:"btn btn-success",on:{click:t.submitDates}},[t._v("Submit")])])])])])},n=[],r=a("f0ca"),i=a.n(r),o=a("c1df"),c=a.n(o),l=(a("6f3c"),a("1789")),d={components:{DatePick:i.a},props:["onSubmit"],data:function(){return{startDate:null,endDate:null,format:"DD/MMM/YYYY",date:l["a"].format(new Date,"DD/MMM/YYYY")}},methods:{initDates:function(){},submitDates:function(){this.startDate=c()(this.startDate).format("YYYY-MM-DD"),this.endDate=c()(this.endDate).format("YYYY-MM-DD"),this.onSubmit([this.startDate,this.endDate])},parseDate:function(t,e){return l["a"].parse(t,e)},formatDate:function(t,e){return l["a"].format(t,e)}},mounted:function(){var t=this;setTimeout((function(){return t.initDates()}),300)}},u=d,h=(a("336a"),a("2877")),f=Object(h["a"])(u,s,n,!1,null,"15deca72",null);e["a"]=f.exports},bb60:function(t,e,a){"use strict";var s=a("c510"),n=a.n(s);n.a},c510:function(t,e,a){},df61:function(t,e,a){},df80:function(t,e,a){}}]);
//# sourceMappingURL=chunk-4af39728.1c60c1d4.js.map
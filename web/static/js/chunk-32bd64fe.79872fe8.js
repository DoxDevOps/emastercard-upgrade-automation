(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32bd64fe"],{1117:function(t,e,i){},"255e":function(t,e,i){"use strict";var n=i("1117"),s=i.n(n);s.a},"3fd1":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"d-flex",attrs:{id:"wrapper"}},[i("side-bar"),i("div",{attrs:{id:"page-content-wrapper"}},[i("top-nav"),i("div",{staticClass:"container-fluid"},[i("Registration",{staticStyle:{"margin-top":"10px"}})],1)],1)],1)])},s=[],a=i("ebd8"),o=i("7c08"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container",staticStyle:{width:"100%",margin:"auto"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("form",{attrs:{id:"msform"}},[i("form",{staticClass:"content-tab tab-pane fade show active shadow-lg p-3 mb-5 bg-white rounded form-template tab",attrs:{id:"pDetails"}},[i("h5",{staticStyle:{"font-weight":"bold"}},[t._v("HIV Clinic Registration")]),i("clinic-registration",{ref:"clinicRegistration",on:{addEncounter:t.addEncounter}}),i("input",{staticClass:"btn btn-primary clinical action-button",staticStyle:{position:"absolute",bottom:"30px",right:"45%"},attrs:{type:"button",name:"next",value:"Next Step"},on:{click:t.registrationObject}}),i("div",{staticClass:"errorTxt",staticStyle:{"margin-top":"10px","text-align":"center","font-weight":"bold"}})],1),i("form",{staticClass:"content-tab tab-pane fade show active shadow-lg p-3 mb-5 bg-white rounded form-template tab",attrs:{id:"gDetails"}},[t._m(0),i("staging",{ref:"staging",attrs:{patientId:t.PATIENT_ID},on:{addEncounter:t.addEncounter}}),i("input",{staticClass:"btn btn-primary previous action-button-previous",staticStyle:{position:"absolute",bottom:"30px",right:"50%"},attrs:{type:"button",name:"previous",value:"Previous"}}),i("input",{staticClass:"btn btn-primary reception action-button",staticStyle:{position:"absolute",bottom:"30px",right:"40%"},attrs:{type:"button",name:"next",value:"Next Step"},on:{click:t.stagingObject}}),i("div",{staticClass:"guardianError",staticStyle:{"margin-top":"10px",height:"1px","text-align":"center","font-weight":"bold"}})],1),i("form",{staticClass:"content-tab tab-pane fade show active shadow-lg p-3 mb-5 bg-white rounded form-template"},[t._m(1),t.registrationEncounter&&t.stagingEncounter?i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6",staticStyle:{"text-align":"left"}},[i("label",{staticStyle:{"font-weight":"bold"}},[t._v("HIV Clinic Registration")]),i("table",{staticClass:"table table-striped"},[t._m(2),i("tbody",[i("tr",[i("td",[t._v("Year Last Taken ARVs")]),i("td",[t._v(t._s(t.registrationEncounter["obs"]["yearLastTakenARVs"]["value_datetime"]||"N/A"))])]),i("tr",[i("td",[t._v("Ever registered at a clinic")]),i("td",[t._v(t._s(t.CONCEPTS[t.registrationEncounter["obs"]["everRegisteredAtClinic"]["value_coded"]]||"N/A"))])]),i("tr",[i("td",[t._v("ART # at previous location")]),i("td",[t._v(t._s(t.registrationEncounter["obs"]["artNumberAtPreviousLocation"]["value_text"]||"N/A"))])]),i("tr",[i("td",[t._v("Confirmatory Test")]),i("td",[t._v(t._s(t.CONCEPTS[t.registrationEncounter["obs"]["confirmatoryTest"]["value_coded"]]||"N/A"))])]),i("tr",[i("td",[t._v("ART Start Location")]),i("td",[t._v(t._s(t.registrationEncounter["obs"]["ARTStartLocation"]["value_text"]||"N/A"))])]),i("tr",[i("td",[t._v("Date ART Started")]),i("td",[t._v(t._s(t.registrationEncounter["obs"]["dateARTStarted"]["value_datetime"]||"N/A"))])]),i("tr",[i("td",[t._v("Test Location")]),i("td",[t._v(t._s(t.registrationEncounter["obs"]["testLocation"]["value_text"]||"N/A"))])]),i("tr",[i("td",[t._v("Date of Test")]),i("td",[t._v(t._s(t.registrationEncounter["obs"]["testDate"]["value_datetime"]||"N/A"))])])])])]),i("div",{staticClass:"col-md-6",staticStyle:{height:"500px","overflow-y":"auto","text-align":"left"}},[i("label",{staticStyle:{"font-weight":"bold"}},[t._v("Staging")]),i("table",{staticClass:"table table-striped"},[t._m(3),i("tbody",t._l(Object.values(t.stagingEncounter),(function(e,n){return i("tr",{key:n},[Object.entries(e.conditions).length>0?i("td",t._l(Object.values(e.conditions),(function(n,s){return i("label",{key:s},[t._v(" "+t._s(n)+" - Stage "+t._s(e.id))])})),0):t._e()])})),0)])])]):t._e(),i("input",{staticClass:"btn btn-primary previous action-button-previous",staticStyle:{position:"absolute",bottom:"30px",right:"50%"},attrs:{type:"button",name:"previous",value:"Previous"}}),i("button",{staticClass:"btn btn-primary",staticStyle:{position:"absolute",bottom:"30px",right:"43%"},attrs:{type:"button"},on:{click:t.createEncounters}},[t._v("save")])]),t._m(4),t._m(5)])])])])},c=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("h5",{staticStyle:{"font-weight":"bold",margin:"auto","margin-bottom":"10px"}},[t._v("Staging")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("h5",{staticStyle:{"font-weight":"bold",margin:"auto","margin-bottom":"10px"}},[t._v("Summary")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",{attrs:{scope:"col"}},[t._v("Name")]),i("th",{attrs:{scope:"col"}},[t._v("Value")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",{attrs:{scope:"col"}},[t._v("Name")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("form",{staticClass:"content-tab tab-pane fade show active shadow-lg p-3 mb-5 bg-white rounded form-template"},[i("div",{staticClass:"form-card"},[i("h2",{staticClass:"fs-title text-center"},[t._v("Success !")]),i("br"),i("br"),i("div",{staticClass:"row justify-content-center"},[i("div",{staticClass:"col-3"},[i("img",{staticClass:"fit-image",attrs:{src:"https://img.icons8.com/color/96/000000/ok--v2.png"}})])]),i("br"),i("br"),i("div",{staticClass:"row justify-content-center"},[i("div",{staticClass:"col-7 text-center"},[i("h5",[t._v("Patient added")])])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{attrs:{id:"progressbar"}},[i("li",{staticClass:"active",attrs:{id:"registration"}},[i("strong",[t._v("Clinical Registration")])]),i("li",{attrs:{id:"staging"}},[i("strong",[t._v("Staging")])]),i("li",{attrs:{id:"summary"}},[i("strong",[t._v("Summary")])])])}],l=(i("4de4"),i("7db0"),i("4160"),i("caad"),i("b64b"),i("2532"),i("159b"),i("96cf"),i("1da1")),u=i("8740"),d=i("f91c"),p=i("8051"),b=i("cf40"),v=(i("c1df"),i("1157")),g=i.n(v),f={data:function(){return{encounters:{},PATIENT_ID:this.$route.params.id,registrationEncounter:null,stagingEncounter:null,CONCEPTS:{1065:"Yes",1066:"No",1040:"Rapid Antibody Test",844:"DNA PCR",1118:"Not Done"}}},components:{"clinic-registration":u["a"],staging:d["a"]},methods:{addEncounter:function(t){var e=Object.keys(t)[0];this.encounters[e]=t[e]},saveEncounter:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(e){var i,n,s,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=[],n={url:"observations"},Object.keys(e).includes("obs")?(Object.keys(e.obs).forEach((function(t){i.push(e.obs[t])})),n.observations=i):Object.keys(e).includes("drug_orders")&&(n.drug_orders=e.drug_orders,n.url="drug_orders"),t.next=5,b["a"].createEncounter(this.PATIENT_ID,e.encounter_id);case 5:if(s=t.sent,this.successfulOperation=!0,201!==s.status&&200!==s.status){t.next=16;break}return a=s.encounter_id,n.encounter_id=a,t.next=12,p["a"].post(n.url,n);case 12:o=t.sent,201===o.status||200===o.status?(this.success=!0,this.fail=!1,this.postResponse="Appointment has been set."):(this.success=!1,this.fail=!0,this.postResponse="Appointment could not be set."),t.next=19;break;case 16:this.success=!1,this.fail=!0,this.postResponse="Appointment could not be set.";case 19:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),createEncounters:function(){var t=this,e=Object.keys(this.$refs);console.log(e),e.forEach((function(e){t.$refs[e].saveEncounter()}));var i=Object.keys(this.encounters);i.forEach((function(e){console.log(t.encounters[e]),t.saveEncounter(t.encounters[e])})),this.redirect("/patient/mastercard/".concat(this.PATIENT_ID))},redirect:function(t){this.$router.push(t)},getExpected:function(t){var e=["value_group_id","value_boolean","value_coded","value_coded_name_id","value_drug","value_datetime","value_numeric","value_modifier","value_text"],i="";return Object.keys(t).filter((function(t){e.includes(t)&&(i=t)})),i},initileWizard:function(){g()(document).ready((function(){var t,e,i,n;g()("#pDetails");g()(".clinical").click((function(){g()(".errorTxt").html(""),t=g()(this).parent(),e=g()(this).parent().next(),g()("#progressbar li").eq(g()(".content-tab").index(e)).addClass("active"),e.show(),t.animate({opacity:0},{step:function(i){n=1-i,t.css({display:"none",position:"relative"}),e.css({opacity:n})},duration:600})})),g()(".reception").click((function(){g()(".guardianError").html(""),t=g()(this).parent(),e=g()(this).parent().next(),g()("#progressbar li").eq(g()(".content-tab").index(e)).addClass("active"),e.show(),t.animate({opacity:0},{step:function(i){n=1-i,t.css({display:"none",position:"relative"}),e.css({opacity:n})},duration:600})})),g()(".previous").click((function(){t=g()(this).parent(),i=g()(this).parent().prev(),g()("#progressbar li").eq(g()(".content-tab").index(t)).removeClass("active"),i.show(),t.animate({opacity:0},{step:function(e){n=1-e,t.css({display:"none",position:"relative"}),i.css({opacity:n})},duration:600})})),g()(".confirm").click((function(){console.log("confirm clicked"),t=g()(this).parent(),e=g()(this).parent().next(),g()("#progressbar li").eq(g()(".content-tab").index(e)).addClass("active"),e.show(),t.animate({opacity:0},{step:function(i){n=1-i,t.css({display:"none",position:"relative"}),e.css({opacity:n})},duration:600})})),g()(".radio-group .radio").click((function(){g()(this).parent().find(".radio").removeClass("selected"),g()(this).addClass("selected")})),g()(".submit").click((function(){return console.log("Patient Details submitted!!!"),!1}))}))},registrationObject:function(){this.registrationEncounter=this.$store.state.registration.registration},stagingObject:function(){this.stagingEncounter=this.$store.state.staging.staging}},mounted:function(){console.log(this.$route.params.id),this.initileWizard()}},m=f,h=(i("255e"),i("2877")),_=Object(h["a"])(m,r,c,!1,null,"b2a33438",null),y=_.exports,C={name:"home",components:{"top-nav":a["a"],"side-bar":o["a"],Registration:y}},E=C,x=Object(h["a"])(E,n,s,!1,null,null,null);e["default"]=x.exports},"7db0":function(t,e,i){"use strict";var n=i("23e7"),s=i("b727").find,a=i("44d2"),o=i("ae40"),r="find",c=!0,l=o(r);r in[]&&Array(1)[r]((function(){c=!1})),n({target:"Array",proto:!0,forced:c||!l},{find:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),a(r)}}]);
//# sourceMappingURL=chunk-32bd64fe.79872fe8.js.map
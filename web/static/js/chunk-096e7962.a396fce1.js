(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-096e7962"],{"3fd1":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"d-flex",attrs:{id:"wrapper"}},[n("side-bar"),n("div",{attrs:{id:"page-content-wrapper"}},[n("top-nav"),n("div",{staticClass:"container-fluid"},[n("Registration",{staticStyle:{"margin-top":"10px"}})],1)],1)],1)])},a=[],s=n("ebd8"),o=n("7c08"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",staticStyle:{width:"100%",margin:"auto"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("form",{attrs:{id:"msform"}},[n("form",{staticClass:"content-tab tab-pane fade show active shadow-lg p-3 mb-5 bg-white rounded form-template tab",attrs:{id:"pDetails"}},[n("h5",{staticStyle:{"font-weight":"bold"}},[t._v("HIV Clinic Registration")]),n("clinic-registration",{ref:"clinicRegistration",on:{addEncounter:t.addEncounter}}),n("input",{staticClass:"btn btn-primary clinical action-button",staticStyle:{position:"absolute",bottom:"17px",right:"45%"},attrs:{type:"button",name:"next",value:"Next Step"},on:{click:t.registrationObject}}),n("div",{staticClass:"errorTxt",staticStyle:{"margin-top":"10px","text-align":"center","font-weight":"bold"}})],1),n("form",{staticClass:"content-tab tab-pane fade show active shadow-lg p-3 mb-5 bg-white rounded form-template tab",attrs:{id:"gDetails"}},[t._m(0),n("staging",{ref:"staging",attrs:{patientId:t.PATIENT_ID},on:{addEncounter:t.addEncounter}}),n("input",{staticClass:"btn btn-primary previous action-button-previous",staticStyle:{position:"absolute",bottom:"30px",right:"50%"},attrs:{type:"button",name:"previous",value:"Previous"}}),n("input",{staticClass:"btn btn-primary reception action-button",staticStyle:{position:"absolute",bottom:"30px",right:"40%"},attrs:{type:"button",name:"next",value:"Next Step"},on:{click:t.stagingObject}}),n("div",{staticClass:"guardianError",staticStyle:{"margin-top":"10px",height:"1px","text-align":"center","font-weight":"bold"}})],1),n("form",{staticClass:"content-tab tab-pane fade show active shadow-lg p-3 mb-5 bg-white rounded form-template"},[t._m(1),Object.entries(t.registrationEncounter).length>0&&Object.entries(t.stagingEncounter).length>0?n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6",staticStyle:{"text-align":"left"}},[n("label",{staticStyle:{"font-weight":"bold"}},[t._v("HIV Clinic Registration")]),n("table",{staticClass:"table table-striped"},[t._m(2),n("tbody",[n("tr",[n("td",[t._v("Year Last Taken ARVs")]),n("td",[t._v(t._s("Invalid date"==t.registrationEncounter["obs"]["yearLastTakenARVs"]["value_datetime"]?"Unknown":t.registrationEncounter["obs"]["yearLastTakenARVs"]["value_datetime"]||"N/A"))])]),n("tr",[n("td",[t._v("Ever registered at a clinic")]),n("td",[t._v(t._s(t.CONCEPTS[t.registrationEncounter["obs"]["everRegisteredAtClinic"]["value_coded"]]||"N/A"))])]),n("tr",[n("td",[t._v("ART # at previous location")]),n("td",[t._v(t._s(t.registrationEncounter["obs"]["artNumberAtPreviousLocation"]["value_text"]||"N/A"))])]),n("tr",[n("td",[t._v("Confirmatory Test")]),n("td",[t._v(t._s(t.CONCEPTS[t.registrationEncounter["obs"]["confirmatoryTest"]["value_coded"]]||"N/A"))])]),n("tr",[n("td",[t._v("ART Start Location")]),n("td",[t._v(t._s(t.registrationEncounter["obs"]["ARTStartLocation"]["value_text"]||"N/A"))])]),n("tr",[n("td",[t._v("Date ART Started")]),n("td",[t._v(t._s(t.registrationEncounter["obs"]["dateARTStarted"]["value_datetime"]||"N/A"))])]),n("tr",[n("td",[t._v("Test Location")]),n("td",[t._v(t._s(t.registrationEncounter["obs"]["testLocation"]["value_text"]||"N/A"))])]),n("tr",[n("td",[t._v("Date of Test")]),n("td",[t._v(t._s(t.registrationEncounter["obs"]["testDate"]["value_datetime"]||"N/A"))])])])])]),n("div",{staticClass:"col-md-6",staticStyle:{"text-align":"left"}},[n("label",{staticStyle:{"font-weight":"bold"}},[t._v("Staging")]),n("table",{staticClass:"table table-striped"},[t._m(3),n("tbody",[n("tr",[n("td",[t._v("Reason for Starting")]),n("td",[t._v(t._s(t.stagingEncounter["obs"]["reason"]["value_text"]||"N/A"))])]),n("tr",[n("td",[t._v("Stage")]),n("td",[t._v(t._s(t.stagingEncounter["obs"]["stage"]["value_text"]||"N/A"))])]),n("tr",[n("td",[t._v("CD4 Count Date")]),n("td",[t._v(t._s(t.stagingEncounter["obs"]["cd4CountDate"]["value_datetime"]||"N/A"))])]),n("tr",[n("td",[t._v("CD4 Count")]),n("td",[t._v(t._s(Object.entries(t.stagingEncounter["obs"]["cd4Count"]["value_numeric"]).length>0?t.stagingEncounter["obs"]["cd4Count"]["value_modifier"]+""+t.stagingEncounter["obs"]["cd4Count"]["value_numeric"]:"N/A"))])]),n("tr",[n("td",[t._v("CD4 Count Location")]),n("td",[t._v(t._s(t.stagingEncounter["obs"]["cd4CountLocation"]["value_text"]||"N/A"))])]),n("tr",[n("td",[t._v("Condition(s)")]),n("td",[n("ul",{staticStyle:{height:"150px",overflow:"hidden","overflow-y":"scroll","list-style-type":"decimal"}},t._l(t.conditionList,(function(e){return n("li",{key:e,staticClass:"condtions"},[t._v(t._s(e||"NA"))])})),0)])])])])])]):t._e(),n("input",{staticClass:"btn btn-primary previous action-button-previous",staticStyle:{position:"absolute",bottom:"30px",right:"50%"},attrs:{type:"button",name:"previous",value:"Previous"}}),n("button",{staticClass:"btn btn-primary",staticStyle:{position:"absolute",bottom:"30px",right:"43%"},attrs:{type:"button"},on:{click:t.createEncounters}},[t._v("save")])]),t._m(4),t._m(5)])])])])},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("h5",{staticStyle:{"font-weight":"bold",margin:"auto","margin-bottom":"10px"}},[t._v("Staging")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("h5",{staticStyle:{"font-weight":"bold",margin:"auto","margin-bottom":"10px"}},[t._v("Summary")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",{attrs:{scope:"col"}},[t._v("Name")]),n("th",{attrs:{scope:"col"}},[t._v("Value")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",{attrs:{scope:"col"}},[t._v("Name")]),n("th",{attrs:{scope:"col"}},[t._v("Value")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"content-tab tab-pane fade show active shadow-lg p-3 mb-5 bg-white rounded form-template"},[n("div",{staticClass:"form-card"},[n("h2",{staticClass:"fs-title text-center"},[t._v("Success !")]),n("br"),n("br"),n("div",{staticClass:"row justify-content-center"},[n("div",{staticClass:"col-3"},[n("img",{staticClass:"fit-image",attrs:{src:"https://img.icons8.com/color/96/000000/ok--v2.png"}})])]),n("br"),n("br"),n("div",{staticClass:"row justify-content-center"},[n("div",{staticClass:"col-7 text-center"},[n("h5",[t._v("Patient added")])])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{attrs:{id:"progressbar"}},[n("li",{staticClass:"active",attrs:{id:"registration"}},[n("strong",[t._v("Clinical Registration")])]),n("li",{attrs:{id:"staging"}},[n("strong",[t._v("Staging")])]),n("li",{attrs:{id:"summary"}},[n("strong",[t._v("Summary")])])])}],u=(n("4de4"),n("7db0"),n("4160"),n("caad"),n("d81d"),n("b64b"),n("ac1f"),n("2532"),n("466d"),n("159b"),n("96cf"),n("1da1")),l=n("8740"),d=n("f91c"),v=n("8051"),g=n("cf40"),p=(n("c1df"),n("1157")),b=n.n(p),f={data:function(){return{encounters:{},PATIENT_ID:this.$route.params.id,registrationEncounter:{},stagingEncounter:{},CONCEPTS:{1065:"Yes",1066:"No",1040:"Rapid Antibody Test",844:"DNA PCR",1118:"Not Done"}}},computed:{conditionList:function(){var t=this,e=Object.keys(this.stagingEncounter["obs"]).filter((function(t){return t.match(/condition/)})),n=e.map((function(e){return t.stagingEncounter["obs"][e]}));return n.map((function(t){return t["value_text"]}))}},components:{"clinic-registration":l["a"],staging:d["a"]},methods:{addEncounter:function(t){var e=Object.keys(t)[0];this.encounters[e]=t[e]},saveEncounter:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){var n,i,a,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=[],i={url:"observations"},Object.keys(e).includes("obs")?(Object.keys(e.obs).forEach((function(t){n.push(e.obs[t])})),i.observations=n):Object.keys(e).includes("drug_orders")&&(i.drug_orders=e.drug_orders,i.url="drug_orders"),t.next=5,g["a"].createEncounter(this.PATIENT_ID,e.encounter_id);case 5:if(a=t.sent,this.successfulOperation=!0,201!==a.status&&200!==a.status){t.next=16;break}return s=a.encounter_id,i.encounter_id=s,t.next=12,v["a"].post(i.url,i);case 12:o=t.sent,201===o.status||200===o.status?(this.success=!0,this.fail=!1,this.postResponse="Appointment has been set."):(this.success=!1,this.fail=!0,this.postResponse="Appointment could not be set."),t.next=19;break;case 16:this.success=!1,this.fail=!0,this.postResponse="Appointment could not be set.";case 19:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),createEncounters:function(){var t=this,e=Object.keys(this.$refs);console.log(e),e.forEach((function(e){t.$refs[e].saveEncounter()}));var n=Object.keys(this.encounters);n.forEach((function(e){console.log(t.encounters[e]),t.saveEncounter(t.encounters[e])})),this.redirect("/patient/mastercard/".concat(this.PATIENT_ID))},redirect:function(t){this.$router.push(t)},getExpected:function(t){var e=["value_group_id","value_boolean","value_coded","value_coded_name_id","value_drug","value_datetime","value_numeric","value_modifier","value_text"],n="";return Object.keys(t).filter((function(t){e.includes(t)&&(n=t)})),n},initileWizard:function(){b()(document).ready((function(){var t,e,n,i;b()("#pDetails");b()(".clinical").click((function(){b()(".errorTxt").html(""),t=b()(this).parent(),e=b()(this).parent().next(),b()("#progressbar li").eq(b()(".content-tab").index(e)).addClass("active"),e.show(),t.animate({opacity:0},{step:function(n){i=1-n,t.css({display:"none",position:"relative"}),e.css({opacity:i})},duration:600})})),b()(".reception").click((function(){b()(".guardianError").html(""),t=b()(this).parent(),e=b()(this).parent().next(),b()("#progressbar li").eq(b()(".content-tab").index(e)).addClass("active"),e.show(),t.animate({opacity:0},{step:function(n){i=1-n,t.css({display:"none",position:"relative"}),e.css({opacity:i})},duration:600})})),b()(".previous").click((function(){t=b()(this).parent(),n=b()(this).parent().prev(),b()("#progressbar li").eq(b()(".content-tab").index(t)).removeClass("active"),n.show(),t.animate({opacity:0},{step:function(e){i=1-e,t.css({display:"none",position:"relative"}),n.css({opacity:i})},duration:600})})),b()(".confirm").click((function(){console.log("confirm clicked"),t=b()(this).parent(),e=b()(this).parent().next(),b()("#progressbar li").eq(b()(".content-tab").index(e)).addClass("active"),e.show(),t.animate({opacity:0},{step:function(n){i=1-n,t.css({display:"none",position:"relative"}),e.css({opacity:i})},duration:600})})),b()(".radio-group .radio").click((function(){b()(this).parent().find(".radio").removeClass("selected"),b()(this).addClass("selected")})),b()(".submit").click((function(){return console.log("Patient Details submitted!!!"),!1}))}))},registrationObject:function(){this.registrationEncounter=this.$store.state.registration.registration,console.log(this.registrationEncounter)},stagingObject:function(){this.stagingEncounter=this.$store.state.staging.staging,console.log(this.stagingEncounter)}},mounted:function(){console.log(this.$route.params.id),this.initileWizard()}},m=f,h=(n("acf7"),n("2877")),_=Object(h["a"])(m,r,c,!1,null,"07ec2560",null),y=_.exports,C={name:"home",components:{"top-nav":s["a"],"side-bar":o["a"],Registration:y}},E=C,x=Object(h["a"])(E,i,a,!1,null,null,null);e["default"]=x.exports},"466d":function(t,e,n){"use strict";var i=n("d784"),a=n("825a"),s=n("50c4"),o=n("1d80"),r=n("8aa5"),c=n("14c3");i("match",1,(function(t,e,n){return[function(e){var n=o(this),i=void 0==e?void 0:e[t];return void 0!==i?i.call(e,n):new RegExp(e)[t](String(n))},function(t){var i=n(e,t,this);if(i.done)return i.value;var o=a(t),u=String(this);if(!o.global)return c(o,u);var l=o.unicode;o.lastIndex=0;var d,v=[],g=0;while(null!==(d=c(o,u))){var p=String(d[0]);v[g]=p,""===p&&(o.lastIndex=r(u,s(o.lastIndex),l)),g++}return 0===g?null:v}]}))},"7db0":function(t,e,n){"use strict";var i=n("23e7"),a=n("b727").find,s=n("44d2"),o=n("ae40"),r="find",c=!0,u=o(r);r in[]&&Array(1)[r]((function(){c=!1})),i({target:"Array",proto:!0,forced:c||!u},{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),s(r)},"8aa5":function(t,e,n){"use strict";var i=n("6547").charAt;t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},a1ab:function(t,e,n){},acf7:function(t,e,n){"use strict";var i=n("a1ab"),a=n.n(i);a.a}}]);
//# sourceMappingURL=chunk-096e7962.a396fce1.js.map
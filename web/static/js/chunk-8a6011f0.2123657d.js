(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8a6011f0"],{"118e":function(t,e,a){},"22ae":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex",attrs:{id:"wrapper"}},[a("side-bar"),a("div",{attrs:{id:"page-content-wrapper"}},[a("top-nav"),a("div",{staticClass:"main-container"},[t._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("sdPicker",{attrs:{onSubmit:t.fetchDates}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("report-overlay",{attrs:{reportLoading:t.reportLoading}},[a("table",{staticClass:"table table-striped report",attrs:{id:"cohort-clients"}},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}}),a("th",{staticStyle:{width:"20%"},attrs:{scope:"col"}}),a("th",{staticClass:"center-text",attrs:{scope:"col"}},[t._v("# of clients on <3 months of ARVs")]),a("th",{staticClass:"center-text",attrs:{scope:"col"}},[t._v("# of clients on 3 - 5 months of ARVs")]),a("th",{staticClass:"center-text",attrs:{scope:"col"}},[t._v("# of clients on >= 6 months of ARVs")])])])])])],1)])])],1)],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"alert alert-info"},[a("strong",[t._v("TX CURR MMD")]),t._v(" Clients that are alive and on treatment in the reporting period and the difference in days between their clinical dispensation visit and next appointment / drug-runout date is: "),a("ul",[a("li",[t._v("<3 months (1 â€“ 89 days)")]),a("li",[t._v("3-5 months (90-179 days)")]),a("li",[t._v("6+ months (180 or more days)")])])])])])}],n=(a("96cf"),a("1da1")),i=a("8051"),o=a("ebd8"),c=a("8e71"),l=a("7c08"),d=a("c1df"),u=a.n(d),p=a("4dfe"),f=a("1157"),h=a.n(f);a("6810");a("2cdf"),a("fd5e"),a("5caa"),a("c3dc"),a("4e95"),a("a8a1"),a("919c"),a("4b69"),a("7dae"),a("a821");var m={name:"reports",components:{ReportOverlay:c["a"],"top-nav":o["a"],"side-bar":l["a"],sdPicker:p["a"]},methods:{fetchDates:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,e.startDate=t[0],e.endDate=t[1],e.reportLoading=!0,a.next=6,e.fetchData();case 6:e.reportLoading=!1,a.next=13;break;case 9:a.prev=9,a.t0=a["catch"](0),console.error(a.t0),e.$router.push({name:"error",params:{message:a.t0.message}});case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},fetchData:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,r,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.reportingGroups.length>0)){t.next=6;break}r=this.setMinMaxAges(this.reportingGroups[0]),e=r[0],a=r[1],t.next=7;break;case 6:return t.abrupt("return");case 7:return this.report_title=sessionStorage.location_name+" TX CURR MMD ",this.report_title+=" between "+u()(this.startDate).format("dddd, Do of MMM YYYY"),this.report_title+=" and "+u()(this.endDate).format("dddd, Do of MMM YYYY"),s="arv_refill_periods?start_date="+this.startDate+"&date="+u()().format("YYYY-MM-DD"),s+="&end_date="+this.endDate+"&program_id=1&org=pepfar",s+="&min_age="+e,s+="&max_age="+a,t.next=16,i["a"].get(s);case 16:if(n=t.sent,200!==n.status){t.next=27;break}return t.t0=this,t.next=21,n.json();case 21:return t.t1=t.sent,t.t0.addRow.call(t.t0,t.t1),t.next=25,this.fetchData();case 25:t.next=27;break;case 27:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),initDataTable:function(){this.dTable=h()("#cohort-clients").dataTable({order:[[0,"asc"]],fixedHeader:!0,paging:!1,dom:"Bfrtip",buttons:[{extend:"copy",title:this.report_title},{extend:"csv",title:this.report_title},{extend:"pdf",title:this.report_title},{extend:"print",title:this.report_title}],columnDefs:[{className:"center-text",targets:2},{className:"center-text",targets:3},{className:"center-text",targets:4}]})},addRow:function(t){var e=0,a=0,r=0;for(var s in t){var n=t[s],i=n.prescribed_days;i<60&&(e+=1),i>=60&&i<=150&&(a+=1),i>150&&(r+=1)}this.dTable.fnAddData([this.rowCounter++,this.reportingGroups[0],e,a,r]),this.reportingGroups.shift()},setMinMaxAges:function(t){return"<1 year"==t?[0,0]:"1-4 years"==t?[1,4]:"5-9 years"==t?[5,9]:"10-14 years"==t?[10,14]:"15-19 years"==t?[15,19]:"20-24 years"==t?[20,24]:"25-29 years"==t?[25,29]:"30-34 years"==t?[30,34]:"35-39 years"==t?[35,39]:"40-44 years"==t?[40,44]:"45-49 years"==t?[45,49]:"50 plus years"==t?[50,1e4]:"Unknown"==t?["Unknown","Unknown"]:void 0}},mounted:function(){this.$nextTick(this.initDataTable)},data:function(){return{report_title:"TX CURR MMD ",reportData:null,reportLoading:!1,dTable:null,startDate:null,endDate:null,rowCounter:1,reportingGroups:["<1 year","1-4 years","5-9 years","10-14 years","15-19 years","20-24 years","25-29 years","30-34 years","35-39 years","40-44 years","45-49 years","50 plus years","Unknown"]}}},v=m,D=(a("d5ec"),a("bb60"),a("2877")),b=Object(D["a"])(v,r,s,!1,null,"379f9e70",null);e["default"]=b.exports},"336a":function(t,e,a){"use strict";var r=a("df61"),s=a.n(r);s.a},"4dfe":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ctrs"},[a("div",{staticClass:"ctr-table"},[a("div",{staticClass:"ctr-row"},[a("div",{staticClass:"ctr-cell"},[a("date-pick",{staticClass:"date-inputs",attrs:{format:t.format,parseDate:t.parseDate,formatDate:t.formatDate,inputAttributes:{placeholder:"Start Date",readonly:!0}},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1),a("div",{staticClass:"ctr-cell"},[a("date-pick",{staticClass:"date-inputs",attrs:{format:t.format,parseDate:t.parseDate,formatDate:t.formatDate,inputAttributes:{placeholder:"End Date",readonly:!0}},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1),a("div",{staticClass:"ctr-cell"},[a("button",{staticClass:"btn btn-success",on:{click:t.submitDates}},[t._v("Submit")])])])])])},s=[],n=a("f0ca"),i=a.n(n),o=a("c1df"),c=a.n(o),l=(a("6f3c"),a("1789")),d={components:{DatePick:i.a},props:["onSubmit"],data:function(){return{startDate:null,endDate:null,format:"DD/MMM/YYYY",date:l["a"].format(new Date,"DD/MMM/YYYY")}},methods:{initDates:function(){},submitDates:function(){this.startDate=c()(this.startDate).format("YYYY-MM-DD"),this.endDate=c()(this.endDate).format("YYYY-MM-DD"),this.onSubmit([this.startDate,this.endDate])},parseDate:function(t,e){return l["a"].parse(t,e)},formatDate:function(t,e){return l["a"].format(t,e)}},mounted:function(){var t=this;setTimeout((function(){return t.initDates()}),300)}},u=d,p=(a("336a"),a("2877")),f=Object(p["a"])(u,r,s,!1,null,"15deca72",null);e["a"]=f.exports},"8e71":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-overlay",{attrs:{show:t.hideReport,"no-center":!0,"spinner-type":"grow","spinner-variant":"primary"},scopedSlots:t._u([{key:"overlay",fn:function(){return[a("div",{staticStyle:{display:"block","min-height":"720px",width:"100%","padding-top":"20%"}},[t.reportSelected?t._e():a("h1",[t._v("No Report Selected")]),t.reportSelected?a("b-spinner",{attrs:{type:"grow",variant:"primary"}}):t._e()],1)]},proxy:!0}])},[t._t("default")],2)},s=[],n={name:"report-overlay",props:{reportLoading:{type:Boolean,required:!0},reportSelected:{type:Boolean,default:!0}},computed:{hideReport:function(){return this.reportLoading||!this.reportSelected}}},i=n,o=a("2877"),c=Object(o["a"])(i,r,s,!1,null,null,null);e["a"]=c.exports},bb60:function(t,e,a){"use strict";var r=a("c510"),s=a.n(r);s.a},c510:function(t,e,a){},d5ec:function(t,e,a){"use strict";var r=a("118e"),s=a.n(r);s.a},df61:function(t,e,a){}}]);
//# sourceMappingURL=chunk-8a6011f0.2123657d.js.map
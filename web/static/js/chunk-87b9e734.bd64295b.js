(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-87b9e734"],{"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"14c3":function(t,e,i){var n=i("c6b6"),o=i("9263");t.exports=function(t,e){var i=t.exec;if("function"===typeof i){var a=i.call(t,e);if("object"!==typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},2498:function(t,e,i){"use strict";var n=i("71cb"),o=i.n(n);o.a},"24ca":function(t,e,i){"use strict";var n=i("2b0e"),o=new n["default"];e["a"]=o},"4a7a":function(t,e,i){!function(e,i){t.exports=i()}("undefined"!=typeof self&&self,(function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i(i.s=8)}([function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(e){return"function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?t.exports=n=function(t){return i(t)}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":i(t)},n(e)}t.exports=n},function(t,e,i){},function(t,e,i){var n=i(4),o=i(5),a=i(6);t.exports=function(t){return n(t)||o(t)||a()}},function(t,e){t.exports=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,i){"use strict";var n=i(1);i.n(n).a},function(t,e,i){"use strict";i.r(e);var n=i(2),o=i.n(n),a=i(0),s=i.n(a),r=i(3),l=i.n(r),c={watch:{typeAheadPointer:function(){this.maybeAdjustScroll()}},methods:{maybeAdjustScroll:function(){var t=this.pixelsToPointerTop(),e=this.pixelsToPointerBottom();return t<=this.viewport().top?this.scrollTo(t):e>=this.viewport().bottom?this.scrollTo(this.viewport().top+this.pointerHeight()):void 0},pixelsToPointerTop:function(){var t=0;if(this.$refs.dropdownMenu)for(var e=0;e<this.typeAheadPointer;e++)t+=this.$refs.dropdownMenu.children[e].offsetHeight;return t},pixelsToPointerBottom:function(){return this.pixelsToPointerTop()+this.pointerHeight()},pointerHeight:function(){var t=!!this.$refs.dropdownMenu&&this.$refs.dropdownMenu.children[this.typeAheadPointer];return t?t.offsetHeight:0},viewport:function(){return{top:this.$refs.dropdownMenu?this.$refs.dropdownMenu.scrollTop:0,bottom:this.$refs.dropdownMenu?this.$refs.dropdownMenu.offsetHeight+this.$refs.dropdownMenu.scrollTop:0}},scrollTo:function(t){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.scrollTop=t:null}}},u={data:function(){return{typeAheadPointer:-1}},watch:{filteredOptions:function(){for(var t=0;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}}},methods:{typeAheadUp:function(){for(var t=this.typeAheadPointer-1;t>=0;t--)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t,this.maybeAdjustScroll&&this.maybeAdjustScroll();break}},typeAheadDown:function(){for(var t=this.typeAheadPointer+1;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t,this.maybeAdjustScroll&&this.maybeAdjustScroll();break}},typeAheadSelect:function(){this.filteredOptions[this.typeAheadPointer]?this.select(this.filteredOptions[this.typeAheadPointer]):this.taggable&&this.search.length&&this.select(this.search),this.clearSearchOnSelect&&(this.search="")}}},d={props:{loading:{type:Boolean,default:!1}},data:function(){return{mutableLoading:!1}},watch:{search:function(){this.$emit("search",this.search,this.toggleLoading)},loading:function(t){this.mutableLoading=t}},methods:{toggleLoading:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.mutableLoading=null==t?!this.mutableLoading:t}}};function h(t,e,i,n,o,a,s,r){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=l):o&&(l=r?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}var p={Deselect:h({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"}},[e("path",{attrs:{d:"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z"}})])}),[],!1,null,null,null).exports,OpenIndicator:h({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10"}},[e("path",{attrs:{d:"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z"}})])}),[],!1,null,null,null).exports};function f(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function v(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?f(i,!0).forEach((function(e){l()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):f(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var g={components:v({},p),mixins:[c,u,d],props:{value:{},components:{type:Object,default:function(){return{}}},options:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""},transition:{type:String,default:"vs__fade"},clearSearchOnSelect:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!0},label:{type:String,default:"label"},autocomplete:{type:String,default:"off"},reduce:{type:Function,default:function(t){return t}},selectable:{type:Function,default:function(t){return!0}},getOptionLabel:{type:Function,default:function(t){return"object"===s()(t)?t.hasOwnProperty(this.label)?t[this.label]:console.warn('[vue-select warn]: Label key "option.'.concat(this.label,'" does not')+" exist in options object ".concat(JSON.stringify(t),".\n")+"https://vue-select.org/api/props.html#getoptionlabel"):t}},getOptionKey:{type:Function,default:function(t){if("object"===s()(t)&&t.id)return t.id;try{return JSON.stringify(t)}catch(t){return console.warn("[vue-select warn]: Could not stringify option to generate unique key. Please provide'getOptionKey' prop to return a unique key for each option.\nhttps://vue-select.org/api/props.html#getoptionkey")}}},onTab:{type:Function,default:function(){this.selectOnTab&&!this.isComposing&&this.typeAheadSelect()}},taggable:{type:Boolean,default:!1},tabindex:{type:Number,default:null},pushTags:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},filterBy:{type:Function,default:function(t,e,i){return(e||"").toLowerCase().indexOf(i.toLowerCase())>-1}},filter:{type:Function,default:function(t,e){var i=this;return t.filter((function(t){var n=i.getOptionLabel(t);return"number"==typeof n&&(n=n.toString()),i.filterBy(t,n,e)}))}},createOption:{type:Function,default:function(t){return"object"===s()(this.optionList[0])?l()({},this.label,t):t}},resetOnOptionsChange:{default:!1,validator:function(t){return["function","boolean"].includes(s()(t))}},noDrop:{type:Boolean,default:!1},inputId:{type:String},dir:{type:String,default:"auto"},selectOnTab:{type:Boolean,default:!1},selectOnKeyCodes:{type:Array,default:function(){return[13]}},searchInputQuerySelector:{type:String,default:"[type=search]"},mapKeydown:{type:Function,default:function(t,e){return t}}},data:function(){return{search:"",open:!1,isComposing:!1,pushedTags:[],_value:[]}},watch:{options:function(t,e){var i=this;!this.taggable&&("function"==typeof i.resetOnOptionsChange?i.resetOnOptionsChange(t,e,i.selectedValue):i.resetOnOptionsChange)&&this.clearSelection(),this.value&&this.isTrackingValues&&this.setInternalValueFromOptions(this.value)},value:function(t){this.isTrackingValues&&this.setInternalValueFromOptions(t)},multiple:function(){this.clearSelection()}},created:function(){this.mutableLoading=this.loading,void 0!==this.value&&this.isTrackingValues&&this.setInternalValueFromOptions(this.value),this.$on("option:created",this.maybePushTag)},methods:{setInternalValueFromOptions:function(t){var e=this;Array.isArray(t)?this.$data._value=t.map((function(t){return e.findOptionFromReducedValue(t)})):this.$data._value=this.findOptionFromReducedValue(t)},select:function(t){this.isOptionSelected(t)||(this.taggable&&!this.optionExists(t)&&(t=this.createOption(t),this.$emit("option:created",t)),this.multiple&&(t=this.selectedValue.concat(t)),this.updateValue(t)),this.onAfterSelect(t)},deselect:function(t){var e=this;this.updateValue(this.selectedValue.filter((function(i){return!e.optionComparator(i,t)})))},clearSelection:function(){this.updateValue(this.multiple?[]:null)},onAfterSelect:function(t){this.closeOnSelect&&(this.open=!this.open,this.searchEl.blur()),this.clearSearchOnSelect&&(this.search="")},updateValue:function(t){var e=this;this.isTrackingValues&&(this.$data._value=t),null!==t&&(t=Array.isArray(t)?t.map((function(t){return e.reduce(t)})):this.reduce(t)),this.$emit("input",t)},toggleDropdown:function(t){var e=t.target;[].concat(o()(this.$refs.deselectButtons||[]),o()([this.$refs.clearButton]||!1)).some((function(t){return t.contains(e)||t===e}))||(this.open?this.searchEl.blur():this.disabled||(this.open=!0,this.searchEl.focus()))},isOptionSelected:function(t){var e=this;return this.selectedValue.some((function(i){return e.optionComparator(i,t)}))},optionComparator:function(t,e){if("object"!==s()(t)&&"object"!==s()(e)){if(t===e)return!0}else{if(t===this.reduce(e))return!0;if(this.getOptionLabel(t)===this.getOptionLabel(e)||this.getOptionLabel(t)===e)return!0;if(this.reduce(t)===this.reduce(e))return!0}return!1},findOptionFromReducedValue:function(t){var e=this;return this.options.find((function(i){return JSON.stringify(e.reduce(i))===JSON.stringify(t)}))||t},closeSearchOptions:function(){this.open=!1,this.$emit("search:blur")},maybeDeleteValue:function(){if(!this.searchEl.value.length&&this.selectedValue&&this.clearable){var t=null;this.multiple&&(t=o()(this.selectedValue.slice(0,this.selectedValue.length-1))),this.updateValue(t)}},optionExists:function(t){var e=this;return this.optionList.some((function(i){return"object"===s()(i)&&e.getOptionLabel(i)===t||i===t}))},normalizeOptionForSlot:function(t){return"object"===s()(t)?t:l()({},this.label,t)},maybePushTag:function(t){this.pushTags&&this.pushedTags.push(t)},onEscape:function(){this.search.length?this.search="":this.searchEl.blur()},onSearchBlur:function(){if(!this.mousedown||this.searching)return this.clearSearchOnBlur&&(this.search=""),void this.closeSearchOptions();this.mousedown=!1,0!==this.search.length||0!==this.options.length||this.closeSearchOptions()},onSearchFocus:function(){this.open=!0,this.$emit("search:focus")},onMousedown:function(){this.mousedown=!0},onMouseUp:function(){this.mousedown=!1},onSearchKeyDown:function(t){var e=this,i=function(t){return t.preventDefault(),!e.isComposing&&e.typeAheadSelect()},n={8:function(t){return e.maybeDeleteValue()},9:function(t){return e.onTab()},27:function(t){return e.onEscape()},38:function(t){return t.preventDefault(),e.typeAheadUp()},40:function(t){return t.preventDefault(),e.typeAheadDown()}};this.selectOnKeyCodes.forEach((function(t){return n[t]=i}));var o=this.mapKeydown(n,this);if("function"==typeof o[t.keyCode])return o[t.keyCode](t)}},computed:{isTrackingValues:function(){return void 0===this.value||this.$options.propsData.hasOwnProperty("reduce")},selectedValue:function(){var t=this.value;return this.isTrackingValues&&(t=this.$data._value),t?[].concat(t):[]},optionList:function(){return this.options.concat(this.pushedTags)},searchEl:function(){return this.$scopedSlots.search?this.$refs.selectedOptions.querySelector(this.searchInputQuerySelector):this.$refs.search},scope:function(){var t=this;return{search:{attributes:{disabled:this.disabled,placeholder:this.searchPlaceholder,tabindex:this.tabindex,readonly:!this.searchable,id:this.inputId,"aria-expanded":this.dropdownOpen,"aria-label":"Search for option",ref:"search",role:"combobox",type:"search",autocomplete:"off",value:this.search},events:{compositionstart:function(){return t.isComposing=!0},compositionend:function(){return t.isComposing=!1},keydown:this.onSearchKeyDown,blur:this.onSearchBlur,focus:this.onSearchFocus,input:function(e){return t.search=e.target.value}}},spinner:{loading:this.mutableLoading},openIndicator:{attributes:{ref:"openIndicator",role:"presentation",class:"vs__open-indicator"}}}},childComponents:function(){return v({},p,{},this.components)},stateClasses:function(){return{"vs--open":this.dropdownOpen,"vs--single":!this.multiple,"vs--searching":this.searching&&!this.noDrop,"vs--searchable":this.searchable&&!this.noDrop,"vs--unsearchable":!this.searchable,"vs--loading":this.mutableLoading,"vs--disabled":this.disabled}},clearSearchOnBlur:function(){return this.clearSearchOnSelect&&!this.multiple},searching:function(){return!!this.search},dropdownOpen:function(){return!this.noDrop&&this.open&&!this.mutableLoading},searchPlaceholder:function(){if(this.isValueEmpty&&this.placeholder)return this.placeholder},filteredOptions:function(){var t=[].concat(this.optionList);if(!this.filterable&&!this.taggable)return t;var e=this.search.length?this.filter(t,this.search,this):t;return this.taggable&&this.search.length&&!this.optionExists(this.search)&&e.unshift(this.search),e},isValueEmpty:function(){return 0===this.selectedValue.length},showClearButton:function(){return!this.multiple&&this.clearable&&!this.open&&!this.isValueEmpty}}},m=(i(7),h(g,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-select",class:t.stateClasses,attrs:{dir:t.dir}},[i("div",{ref:"toggle",staticClass:"vs__dropdown-toggle",on:{mousedown:function(e){return e.preventDefault(),t.toggleDropdown(e)}}},[i("div",{ref:"selectedOptions",staticClass:"vs__selected-options"},[t._l(t.selectedValue,(function(e){return t._t("selected-option-container",[i("span",{key:t.getOptionKey(e),staticClass:"vs__selected"},[t._t("selected-option",[t._v("\n            "+t._s(t.getOptionLabel(e))+"\n          ")],null,t.normalizeOptionForSlot(e)),t._v(" "),t.multiple?i("button",{ref:"deselectButtons",refInFor:!0,staticClass:"vs__deselect",attrs:{disabled:t.disabled,type:"button","aria-label":"Deselect option"},on:{click:function(i){return t.deselect(e)}}},[i(t.childComponents.Deselect,{tag:"component"})],1):t._e()],2)],{option:t.normalizeOptionForSlot(e),deselect:t.deselect,multiple:t.multiple,disabled:t.disabled})})),t._v(" "),t._t("search",[i("input",t._g(t._b({staticClass:"vs__search"},"input",t.scope.search.attributes,!1),t.scope.search.events))],null,t.scope.search)],2),t._v(" "),i("div",{ref:"actions",staticClass:"vs__actions"},[i("button",{directives:[{name:"show",rawName:"v-show",value:t.showClearButton,expression:"showClearButton"}],ref:"clearButton",staticClass:"vs__clear",attrs:{disabled:t.disabled,type:"button",title:"Clear selection"},on:{click:t.clearSelection}},[i(t.childComponents.Deselect,{tag:"component"})],1),t._v(" "),t._t("open-indicator",[t.noDrop?t._e():i(t.childComponents.OpenIndicator,t._b({tag:"component"},"component",t.scope.openIndicator.attributes,!1))],null,t.scope.openIndicator),t._v(" "),t._t("spinner",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.mutableLoading,expression:"mutableLoading"}],staticClass:"vs__spinner"},[t._v("Loading...")])],null,t.scope.spinner)],2)]),t._v(" "),i("transition",{attrs:{name:t.transition}},[t.dropdownOpen?i("ul",{ref:"dropdownMenu",staticClass:"vs__dropdown-menu",attrs:{role:"listbox"},on:{mousedown:function(e){return e.preventDefault(),t.onMousedown(e)},mouseup:t.onMouseUp}},[t._l(t.filteredOptions,(function(e,n){return i("li",{key:t.getOptionKey(e),staticClass:"vs__dropdown-option",class:{"vs__dropdown-option--selected":t.isOptionSelected(e),"vs__dropdown-option--highlight":n===t.typeAheadPointer,"vs__dropdown-option--disabled":!t.selectable(e)},attrs:{role:"option"},on:{mouseover:function(i){t.selectable(e)&&(t.typeAheadPointer=n)},mousedown:function(i){i.preventDefault(),i.stopPropagation(),t.selectable(e)&&t.select(e)}}},[t._t("option",[t._v("\n          "+t._s(t.getOptionLabel(e))+"\n        ")],null,t.normalizeOptionForSlot(e))],2)})),t._v(" "),t.filteredOptions.length?t._e():i("li",{staticClass:"vs__no-options",on:{mousedown:function(t){t.stopPropagation()}}},[t._t("no-options",[t._v("Sorry, no matching options.")])],2)],2):t._e()])],1)}),[],!1,null,null,null).exports),b={ajax:d,pointer:u,pointerScroll:c};i.d(e,"VueSelect",(function(){return m})),i.d(e,"mixins",(function(){return b})),e.default=m}])}))},"4fad":function(t,e,i){var n=i("23e7"),o=i("6f53").entries;n({target:"Object",stat:!0},{entries:function(t){return o(t)}})},5127:function(t,e,i){},"53ba":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("div",{staticClass:"input-group mb-3"},[t._m(0),i("input",{directives:[{name:"model",rawName:"v-model",value:t.weight.value_numeric,expression:"weight.value_numeric"}],staticClass:"form-control",attrs:{type:"number","aria-label":"Default","aria-describedby":"inputGroup-sizing-default"},domProps:{value:t.weight.value_numeric},on:{input:[function(e){e.target.composing||t.$set(t.weight,"value_numeric",e.target.value)},t.setWeight]}})])]),i("div",{staticClass:"col"},[t.showHeight?i("div",{staticClass:"input-group mb-3"},[t._m(1),i("input",{directives:[{name:"model",rawName:"v-model",value:t.height.value_numeric,expression:"height.value_numeric"}],staticClass:"form-control",attrs:{type:"number","aria-label":"Default","aria-describedby":"inputGroup-sizing-default"},domProps:{value:t.height.value_numeric},on:{input:function(e){e.target.composing||t.$set(t.height,"value_numeric",e.target.value)}}})]):t._e()])])},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"input-group-prepend"},[i("span",{staticClass:"input-group-text",attrs:{id:"weight"}},[t._v("Weight")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"input-group-prepend"},[i("span",{staticClass:"input-group-text",attrs:{id:"height"}},[t._v("Height")])])}],a=i("24ca"),s={data:function(){return{weight:{value_numeric:null,concept_id:5089},height:{value_numeric:null,concept_id:5090},previousHeight:null}},methods:{saveEncounter:function(){var t={vitals:{encounter_id:6,obs:{weight:this.weight}}};this.showHeight&&(t.vitals.obs.height=this.height),this.$emit("addEncounter",t)},setWeight:function(){a["a"].$emit("set-weight",this.weight.value_numeric)}},mounted:function(){},computed:{showHeight:function(){var t=this.$store.state.currentHeight,e=this.$store.state.patient.age,i=!(parseInt(e)>=18&&null!==t);return i}},watch:{weight:{handler:function(t){this.setWeight()},deep:!0}}},r=s,l=i("2877"),c=Object(l["a"])(r,n,o,!1,null,null,null);e["a"]=c.exports},"6dfc":function(t,e,i){},"6f53":function(t,e,i){var n=i("83ab"),o=i("df75"),a=i("fc6a"),s=i("d1e7").f,r=function(t){return function(e){var i,r=a(e),l=o(r),c=l.length,u=0,d=[];while(c>u)i=l[u++],n&&!s.call(r,i)||d.push(t?[i,r[i]]:r[i]);return d}};t.exports={entries:r(!0),values:r(!1)}},"71cb":function(t,e,i){},"841c":function(t,e,i){"use strict";var n=i("d784"),o=i("825a"),a=i("1d80"),s=i("129f"),r=i("14c3");n("search",1,(function(t,e,i){return[function(e){var i=a(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,i):new RegExp(e)[t](String(i))},function(t){var n=i(e,t,this);if(n.done)return n.value;var a=o(t),l=String(this),c=a.lastIndex;s(c,0)||(a.lastIndex=0);var u=r(a,l);return s(a.lastIndex,c)||(a.lastIndex=c),null===u?-1:u.index}]}))},8740:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{margin:"auto",width:"95%"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6",staticStyle:{float:"left"}},[t._m(0),i("div",{staticClass:"form-group"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.shouldFollowUp,expression:"shouldFollowUp"}],staticClass:"form-control",attrs:{name:"stage"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.shouldFollowUp=e.target.multiple?i:i[0]},t.followUp]}},[i("option",{attrs:{disabled:"",selected:""}},[t._v("Select Option")]),i("option",{attrs:{value:"Yes"}},[t._v("Yes")]),i("option",{attrs:{value:"No"}},[t._v("No")])])])]),i("div",{staticClass:"col-md-6"},[i("span",{staticStyle:{"font-weight":"bold",float:"left"}},[t._v("Ever received ARVs for treatment or prophylaxis? (*)")]),i("div",{staticClass:"form-group"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.receievedARVTreatmentBefore,expression:"receievedARVTreatmentBefore"}],staticClass:"form-control",attrs:{name:"stage"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.receievedARVTreatmentBefore=e.target.multiple?i:i[0]},t.everRecieved]}},[i("option",{attrs:{disabled:"",selected:""}},[t._v("Select Option")]),i("option",{attrs:{value:"Yes"}},[t._v("Yes")]),i("option",{attrs:{value:"No"}},[t._v("No")])])])])]),t.recievedTreatment?i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[t._m(1),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"form-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.yearLastTaken,expression:"yearLastTaken"}],staticClass:"form-control",attrs:{type:"date",name:""},domProps:{value:t.yearLastTaken},on:{change:t.setRegistration,input:function(e){e.target.composing||(t.yearLastTaken=e.target.value)}}})])])])]),i("div",{staticClass:"col-md-6"},[t._m(2),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"form-group"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.everRegisteredAtClinicValue,expression:"everRegisteredAtClinicValue"}],staticClass:"form-control",attrs:{name:"stage"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.everRegisteredAtClinicValue=e.target.multiple?i:i[0]},t.everRegistered]}},[i("option",{attrs:{disabled:"",selected:""}},[t._v("Select Option")]),i("option",{attrs:{value:"Yes"}},[t._v("Yes")]),i("option",{attrs:{value:"No"}},[t._v("No")])])])])])])]):t._e(),t.recievedTreatment&&t.registered?i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"row"},[t._m(3),i("div",{staticClass:"col-md-3"},[i("span",{staticStyle:{"font-weight":"bold",color:"rgba(67, 149, 204, 1)","font-style":"italic"}},[t._v("Location Unknown?")]),i("input",{staticStyle:{"margin-left":"10px"},attrs:{type:"checkbox"},on:{click:function(e){return t.locationOfInitiationCheck()}}})])])]),i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"form-group"},[i("v-select",{attrs:{options:t.locations,disabled:t.locationOfInitiationUnknown},on:{search:t.getlocations,input:t.getLoc},model:{value:t.locationOfInitiation,callback:function(e){t.locationOfInitiation=e},expression:"locationOfInitiation"}})],1)])])])]):t._e(),t.recievedTreatment&&t.registered?i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[t._m(4),i("div",{staticClass:"form-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.artStartDate,expression:"artStartDate"}],staticClass:"form-control",attrs:{type:"date",name:""},domProps:{value:t.artStartDate},on:{change:t.setRegistration,input:function(e){e.target.composing||(t.artStartDate=e.target.value)}}})])])])]),i("div",{staticClass:"col-md-6"},[i("div",{staticClass:"row"},[t._m(5),i("div",{staticClass:"col-md-6"},[i("span",{staticStyle:{"font-weight":"bold",color:"rgba(67, 149, 204, 1)","font-style":"italic"}},[t._v("Number Unknown?")]),i("input",{staticStyle:{"margin-left":"10px"},attrs:{type:"checkbox"},on:{click:function(e){return t.arvNumberUnkownCheckbox()}}})])]),i("div",{staticClass:"form-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.arvNumber,expression:"arvNumber"}],staticClass:"form-control",attrs:{type:"text",name:"",placeholder:"Enter ARV Number",disabled:t.arvNumberUnkown},domProps:{value:t.arvNumber},on:{input:[function(e){e.target.composing||(t.arvNumber=e.target.value)},t.setRegistration]}})])])]):t._e(),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[t._m(6),i("div",{staticClass:"form-group"},[i("v-select",{attrs:{options:t.options,reduce:function(t){return t.value}},on:{input:t.setRegistration},model:{value:t.confirmatory,callback:function(e){t.confirmatory=e},expression:"confirmatory"}})],1)])]),1040==t.confirmatory||844==t.confirmatory?i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"row"},[t._m(7),i("div",{staticClass:"col-md-6"},[i("span",{staticStyle:{"font-weight":"bold",color:"rgba(67, 149, 204, 1)","font-style":"italic"}},[t._v("Location unknown?")]),i("input",{staticStyle:{"margin-left":"10px"},attrs:{type:"checkbox"},on:{click:function(e){return t.locationOfConfirmatoryCheck()}}})])])]),i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"form-group"},[i("v-select",{attrs:{options:t.locations,disabled:t.locationOfConfirmatoryUnknown},on:{search:t.getlocations,input:t.getVal},model:{value:t.locationOfConfirmatory,callback:function(e){t.locationOfConfirmatory=e},expression:"locationOfConfirmatory"}})],1)])])]),1040==t.confirmatory||844==t.confirmatory?i("div",{staticClass:"col-md-6"},[i("div",{staticClass:"row"},[t._m(8),i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"form-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.hivTestYear,expression:"hivTestYear"}],staticClass:"form-control",attrs:{type:"date",name:""},domProps:{value:t.hivTestYear},on:{change:t.setRegistration,input:function(e){e.target.composing||(t.hivTestYear=e.target.value)}}})])])])]):t._e()]):t._e(),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("div",{staticClass:"row"},[t._m(9),i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"form-group"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.initialTbStatus,expression:"initialTbStatus"}],staticClass:"form-control",attrs:{name:"",id:""},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.initialTbStatus=e.target.multiple?i:i[0]},t.setRegistration]}},[i("option",{attrs:{disabled:"",selected:""}},[t._v("Select Option")]),t._l(Object.keys(t.TB_STATUS),(function(e,n){return i("option",{key:n,domProps:{value:t.TB_STATUS[e]}},[t._v(t._s(e))])}))],2)])])])]),i("div",{staticClass:"col-md-6"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("label",{staticStyle:{float:"left","font-weight":"bold"}},[t._v("Initial Weight & Height (Vitals) (*)")]),i("span",{staticStyle:{float:"left","font-weight":"bold",color:"rgba(67, 149, 204, 1)","font-style":"italic","margin-left":"38px"}},[t._v("Vitals Unknown?")]),i("input",{staticStyle:{"margin-left":"10px",float:"left","margin-top":"6px"},attrs:{type:"checkbox"},on:{click:function(e){return t.initialVitalsCheck()}}})])])]),i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("div",{staticClass:"form-group"},[t.initialVitalsUnknown?t._e():i("input",{directives:[{name:"model",rawName:"v-model",value:t.initialWeight,expression:"initialWeight"}],staticClass:"form-control",attrs:{type:"text",name:"",placeholder:"Enter Weight"},domProps:{value:t.initialWeight},on:{input:[function(e){e.target.composing||(t.initialWeight=e.target.value)},t.setRegistration]}}),t.initialVitalsUnknown?i("input",{directives:[{name:"model",rawName:"v-model",value:t.initialWeight,expression:"initialWeight"}],staticClass:"form-control",attrs:{type:"text",name:"",placeholder:"Unknown",disabled:""},domProps:{value:t.initialWeight},on:{input:function(e){e.target.composing||(t.initialWeight=e.target.value)}}}):t._e()])]),i("div",{staticClass:"col-md-6"},[i("div",{staticClass:"form-group"},[t.initialVitalsUnknown?t._e():i("input",{directives:[{name:"model",rawName:"v-model",value:t.initialHeight,expression:"initialHeight"}],staticClass:"form-control",attrs:{type:"text",name:"",placeholder:"Enter Height"},domProps:{value:t.initialHeight},on:{input:[function(e){e.target.composing||(t.initialHeight=e.target.value)},t.setRegistration]}}),t.initialVitalsUnknown?i("input",{directives:[{name:"model",rawName:"v-model",value:t.initialHeight,expression:"initialHeight"}],staticClass:"form-control",attrs:{type:"text",name:"",placeholder:"Unknown",disabled:""},domProps:{value:t.initialHeight},on:{input:function(e){e.target.composing||(t.initialHeight=e.target.value)}}}):t._e()])])])])])])])])},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{float:"left"}},[i("span",{staticStyle:{"font-weight":"bold"}},[t._v("Agrees to follow up? (*)")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("label",{staticStyle:{float:"left","font-weight":"bold"}},[t._v("Date last taken ARVs (*)")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("label",{staticStyle:{float:"left","font-weight":"bold"}},[t._v("Ever registered at an ART clinic? (*)")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-md-3"},[i("label",{staticStyle:{float:"left","font-weight":"bold"}},[t._v("Location of ART Initiation (*)")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("label",{staticStyle:{float:"left","font-weight":"bold"}},[t._v("Date started ART (*)")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-md-6"},[i("label",{staticStyle:{float:"left","font-weight":"bold"}},[t._v("ARV Number (*)")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("label",{staticStyle:{float:"left","font-weight":"bold"}},[t._v("Confirmatory Test (*)")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-md-6"},[i("label",{staticStyle:{float:"left","font-weight":"bold"}},[t._v("Location of confirmatory (*)")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("label",{staticStyle:{float:"left","font-weight":"bold"}},[t._v("Confirmatory HIV test date (*)")])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("label",{staticStyle:{float:"left","font-weight":"bold"}},[t._v("Initial TB Status (*)")])])])])}],a=(i("d81d"),i("b0c0"),i("96cf"),i("1da1")),s=i("8051"),r=(i("cf40"),i("6dfc"),i("4a7a")),l=i.n(r),c=(i("53ba"),i("c1df")),u=i.n(c),d={components:{"v-select":l.a},data:function(){return{recievedTreatment:!1,receievedARVTreatmentBefore:"Select Option",everRegisteredAtClinicValue:"Select Option",agreesToFollowUp:!1,shouldFollowUp:"Select Option",registered:!1,arvNumberUnkown:!1,arvNumber:null,artStartDate:null,yearLastTaken:null,estimatedYearLastTaken:null,locationOfInitiation:"Select Option",locationOfInitiationUnknown:!1,locationOfConfirmatory:"Select Option",locationOfConfirmatoryUnknown:!1,confirmatory:"Select Option",hivTestYear:null,arvsTakenTwoMonthsPrior:"Select Option",arvsTakenTwoWeeksPrior:"Select Option",initialWeight:null,initialHeight:null,initialVitalsUnknown:!1,initialTbStatus:"Select Option",TB_STATUS:{"TB NOT suspected":7454,"TB suspected":7455,"Confirmed TB NOT on treatment":7456,"Confirmed TB on treatment":7458},options:[{label:"Rapid Antibody Test",value:1040},{label:"DNA PCR",value:844},{label:"Not Done",value:1118}],clinicRegistration:{encounter_id:9,obs:{phoneFollowUp:{concept_id:2552,value_coded:9685,child:{concept_id:9685,value_coded:null}},homeFollowUp:{concept_id:2552,value_coded:9686,child:{concept_id:9686,value_coded:null}},yearLastTakenARVs:{concept_id:7751,value_datetime:null},everReceivedART:{value_coded:null,concept_id:7754},everRegisteredAtClinic:{concept_id:7937,value_coded:null},artNumberAtPreviousLocation:{concept_id:6981,value_text:null},confirmatoryTest:{value_coded:null,concept_id:7880},ARTStartLocation:{value_text:null,concept_id:7750,location_id:null},dateARTStarted:{concept_id:2516,value_datetime:null},testLocation:{value_text:null,concept_id:7881,location_id:null},testDate:{concept_id:7882,value_datetime:null},initialTbStatus:{concept_id:7459,value_coded:null}}},vitalsEncounter:{encounter_id:6,encounter_datetime:null,obs:{weight:{concept_id:5089,value_numeric:null},height:{concept_id:5090,value_numeric:null}}},locations:[]}},methods:{initial:function(){this.setRegistration(),this.clinicRegistration.obs.phoneFollowUp.child.value_coded=1066,this.clinicRegistration.obs.homeFollowUp.child.value_coded=1066,this.clinicRegistration.obs.everReceivedART.value_coded=1066,this.clinicRegistration.obs.everRegisteredAtClinic.value_coded=1066},followUp:function(){this.setRegistration(),"No"==this.shouldFollowUp?(console.log("No"),this.clinicRegistration.obs.phoneFollowUp.child.value_coded=1066,this.clinicRegistration.obs.homeFollowUp.child.value_coded=1066,this.agreesToFollowUp=!1):"Yes"==this.shouldFollowUp&&(console.log("Yes"),this.clinicRegistration.obs.phoneFollowUp.child.value_coded=1065,this.clinicRegistration.obs.homeFollowUp.child.value_coded=1065,this.agreesToFollowUp=!0)},everRecieved:function(){this.setRegistration(),console.log(this.receievedARVTreatmentBefore),"No"==this.receievedARVTreatmentBefore?(this.clinicRegistration.obs.everReceivedART.value_coded=1066,this.registered=!1,this.recievedTreatment=!1):"Yes"==this.receievedARVTreatmentBefore&&(this.clinicRegistration.obs.everReceivedART.value_coded=1065,this.recievedTreatment=!0)},everRegistered:function(){this.setRegistration(),"No"==this.everRegisteredAtClinicValue?(this.clinicRegistration.obs.everRegisteredAtClinic.value_coded=1066,this.registered=!1):"Yes"==this.everRegisteredAtClinicValue&&(this.clinicRegistration.obs.everRegisteredAtClinic.value_coded=1065,this.registered=!0)},locationOfInitiationCheck:function(){this.setRegistration(),1==this.locationOfInitiationUnknown?(this.locationOfInitiation="Select Location",this.locationOfInitiationUnknown=!1):0==this.locationOfInitiationUnknown&&(this.locationOfInitiation="Unknown",this.clinicRegistration.obs.ARTStartLocation.value_text="Unknown",this.locationOfInitiationUnknown=!0)},arvNumberUnkownCheckbox:function(){this.setRegistration(),1==this.arvNumberUnkown?(this.arvNumber="",this.arvNumberUnkown=!1):0==this.arvNumberUnkown&&(this.arvNumber="Unknown",this.clinicRegistration.obs.artNumberAtPreviousLocation.value_text="Unknown",this.arvNumberUnkown=!0)},locationOfConfirmatoryCheck:function(){this.setRegistration(),1==this.locationOfConfirmatoryUnknown?(this.locationOfConfirmatory="Select Location",this.locationOfConfirmatoryUnknown=!1):0==this.locationOfConfirmatoryUnknown&&(this.locationOfConfirmatory="Unknown",this.clinicRegistration.obs.testLocation.value_text="Unknown",this.locationOfConfirmatoryUnknown=!0)},initialVitalsCheck:function(){this.setRegistration(),1==this.initialVitalsUnknown?this.initialVitalsUnknown=!1:0==this.initialVitalsUnknown&&(this.initialVitalsUnknown=!0)},estimateYearLastTaken:function(){if(this.setRegistration(),this.yearLastTakenUknown){if("Yes"==this.arvsTakenTwoMonthsPrior){if("Yes"==this.arvsTakenTwoWeeksPrior){var t=new Date;t.setDate(t.getDate()-14),t=t.toDateString();var e=u()(t).format("YYYY-MM-DD");console.log(e)}if("No"==this.arvsTakenTwoWeeksPrior){var i=new Date;i.setDate(i.getDate()-60),i=i.toDateString();var n=u()(i).format("YYYY-MM-DD");console.log(n)}}if("No"==this.arvsTakenTwoMonthsPrior){var o=new Date;o.setDate(o.getDate()-90),o=o.toDateString();var a=u()(o).format("YYYY-MM-DD");this.arvsTakenTwoWeeksPrior="Select",console.log(a)}}},getlocations:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,i=this,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:"",this.setRegistration(),t.next=4,s["a"].get("/locations?name="+e).then((function(t){t.json().then((function(t){i.locations=t.map((function(t){return{label:t.name,code:t.name,location_id:t.location_id}}))}))}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),buildForRegistrationGlobalState:function(){if(null!=this.yearLastTaken){var t=u()(this.yearLastTaken).format("YYYY-MM-DD");this.clinicRegistration.obs.yearLastTakenARVs.value_datetime=t}if(null!=this.artStartDate){var e=u()(this.artStartDate).format("YYYY-MM-DD");this.clinicRegistration.obs.dateARTStarted.value_datetime=e}if(null!=this.arvNumber&&(this.clinicRegistration.obs.artNumberAtPreviousLocation.value_text=this.arvNumber),null!=this.confirmatory&&(this.clinicRegistration.obs.confirmatoryTest.value_coded=this.confirmatory),this.hivTestYear){var i=u()(this.hivTestYear).format("YYYY-MM-DD");this.clinicRegistration.obs.testDate.value_datetime=i}if(this.initialTbStatus){var n=u()(this.hivTestYear).format("YYYY-MM-DD");this.clinicRegistration.obs.testDate.value_datetime=n}if(null!=this.initialWeight&&(this.vitalsEncounter.obs.height.value_numeric=this.initialWeight),null!=this.initialHeight&&(this.vitalsEncounter.obs.weight.value_numeric=this.initialHeight),null!=this.initialTbStatus&&(this.clinicRegistration.obs.initialTbStatus.value_coded=this.initialTbStatus),null!=this.artStartDate){u()(this.artStartDate).format("YYYY-MM-DD");this.vitalsEncounter.encounter_datetime=this.dateStarted}if(this.registered){var o=u()(this.artStartDate).format("YYYY-MM-DD");this.vitalsEncounter.encounter_datetime=o}else{var a=u()(new Date).format("YYYY-MM-DD");this.vitalsEncounter.encounter_datetime=a}},buildObservations:function(){if(this.recievedTreatment){var t=u()(this.yearLastTaken).format("YYYY-MM-DD");this.clinicRegistration.obs.yearLastTakenARVs.value_datetime=t}else delete this.clinicRegistration.obs.yearLastTakenARVs;if(this.registered){var e=u()(this.artStartDate).format("YYYY-MM-DD");this.clinicRegistration.obs.dateARTStarted.value_datetime=e,this.clinicRegistration.obs.artNumberAtPreviousLocation.value_text=this.arvNumber}else delete this.clinicRegistration.obs.dateARTStarted,delete this.clinicRegistration.obs.artNumberAtPreviousLocation,delete this.clinicRegistration.obs.ARTStartLocation,delete this.clinicRegistration.obs.ARTStartLocation;if(1040==this.confirmatory||844==this.confirmatory){this.clinicRegistration.obs.confirmatoryTest.value_coded=this.confirmatory;var i=u()(this.hivTestYear).format("YYYY-MM-DD");this.clinicRegistration.obs.testDate.value_datetime=i}else delete this.clinicRegistration.obs.confirmatoryTest,delete this.clinicRegistration.obs.testDate,delete this.clinicRegistration.obs.testLocation,delete this.clinicRegistration.obs.testLocation;this.clinicRegistration.obs.initialTbStatus.value_coded=this.initialTbStatus},buildVitalsObservations:function(){if(this.vitalsEncounter.obs.height.value_numeric=this.initialHeight,this.vitalsEncounter.obs.weight.value_numeric=this.initialWeight,this.registered){var t=u()(this.artStartDate).format("YYYY-MM-DD");this.vitalsEncounter.encounter_datetime=t}else{var e=u()(new Date).format("YYYY-MM-DD");this.vitalsEncounter.encounter_datetime=e}},setRegistration:function(){this.buildForRegistrationGlobalState(),console.log("Set Registration");var t={encounter:this.clinicRegistration,agrees_to_follow:this.shouldFollowUp,receieved_treatment:{ever_received:this.receievedARVTreatmentBefore,last_date_received:this.yearLastTaken,ever_registered:this.everRegisteredAtClinicValue},art_registration:{ever_registered:this.everRegisteredAtClinicValue,location:this.everRegisteredAtClinicValue,start_date:this.artStartDate,arv_number:this.arvNumber},confirmatory_test:{test:this.confirmatory,location:this.locationOfConfirmatory,test_date:this.hivTestYear},vitals:this.vitalsEncounter};console.log(t),this.$store.commit("setRegistration",t)},getVal:function(t){this.setRegistration(),this.clinicRegistration.obs.testLocation.value_text=t.label,this.clinicRegistration.obs.testLocation.location_id=t.location_id},getLoc:function(t){this.setRegistration(),this.clinicRegistration.obs.ARTStartLocation.value_text=t.label,this.clinicRegistration.obs.ARTStartLocation.location_id=t.location_id},getStuff:function(t){this.setRegistration(),this.encounters.push(t)},saveEncounter:function(){this.buildObservations(),console.log(this.clinicRegistration),this.$emit("addEncounter",{clinicRegistration:this.clinicRegistration}),this.initialVitalsUnknown||(this.buildVitalsObservations(),console.log(this.vitalsEncounter),this.$emit("addEncounter",{initialVitals:this.vitalsEncounter}))}},created:function(){this.getlocations()},mounted:function(){this.initial()}},h=d,p=(i("2498"),i("2877")),f=Object(p["a"])(h,n,o,!1,null,"6b427ac4",null);e["a"]=f.exports},9263:function(t,e,i){"use strict";var n=i("ad6d"),o=i("9f7f"),a=RegExp.prototype.exec,s=String.prototype.replace,r=a,l=function(){var t=/a/,e=/b*/g;return a.call(t,"a"),a.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),c=o.UNSUPPORTED_Y||o.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=l||u||c;d&&(r=function(t){var e,i,o,r,d=this,h=c&&d.sticky,p=n.call(d),f=d.source,v=0,g=t;return h&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),g=String(t).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==t[d.lastIndex-1])&&(f="(?: "+f+")",g=" "+g,v++),i=new RegExp("^(?:"+f+")",p)),u&&(i=new RegExp("^"+f+"$(?!\\s)",p)),l&&(e=d.lastIndex),o=a.call(h?i:d,g),h?o?(o.input=o.input.slice(v),o[0]=o[0].slice(v),o.index=d.lastIndex,d.lastIndex+=o[0].length):d.lastIndex=0:l&&o&&(d.lastIndex=d.global?o.index+o[0].length:e),u&&o&&o.length>1&&s.call(o[0],i,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(o[r]=void 0)})),o}),t.exports=r},"9f7f":function(t,e,i){"use strict";var n=i("d039");function o(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ac1f:function(t,e,i){"use strict";var n=i("23e7"),o=i("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},ad6d:function(t,e,i){"use strict";var n=i("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},bf14:function(t,e,i){"use strict";var n=i("5127"),o=i.n(n);o.a},cf40:function(t,e,i){"use strict";i("96cf");var n=i("1da1");function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t}var r=i("8051"),l=i("c1df"),c=i.n(l);i.d(e,"a",(function(){return u}));var u=function(){function t(){o(this,t)}return s(t,null,[{key:"createEncounter",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,i,n){var o,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o={patient_id:e,encounter_type_id:i,program_id:1},null===n&&""===n||(o.encounter_datetime=c()(n).format("YYYY-MM-DD")),t.next=4,r["a"].post("encounters",o);case 4:return a=t.sent,t.next=7,a.json();case 7:if(s=t.sent,400!==a.status){t.next=10;break}throw"Could not create encounter: Invalid parameters provided: ".concat(s.error.message);case 10:return s["status"]=a.status,t.abrupt("return",s);case 12:case"end":return t.stop()}}),t)})));function e(e,i,n){return t.apply(this,arguments)}return e}()}]),t}()},d784:function(t,e,i){"use strict";i("ac1f");var n=i("6eeb"),o=i("d039"),a=i("b622"),s=i("9263"),r=i("9112"),l=a("species"),c=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=a("replace"),h=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),p=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));t.exports=function(t,e,i,d){var f=a(t),v=!o((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),g=v&&!o((function(){var e=!1,i=/a/;return"split"===t&&(i={},i.constructor={},i.constructor[l]=function(){return i},i.flags="",i[f]=/./[f]),i.exec=function(){return e=!0,null},i[f](""),!e}));if(!v||!g||"replace"===t&&(!c||!u||h)||"split"===t&&!p){var m=/./[f],b=i(f,""[t],(function(t,e,i,n,o){return e.exec===s?v&&!o?{done:!0,value:m.call(e,i,n)}:{done:!0,value:t.call(i,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),C=b[0],y=b[1];n(String.prototype,t,C),n(RegExp.prototype,f,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}d&&r(RegExp.prototype[f],"sham",!0)}},d81d:function(t,e,i){"use strict";var n=i("23e7"),o=i("b727").map,a=i("1dde"),s=i("ae40"),r=a("map"),l=s("map");n({target:"Array",proto:!0,forced:!r||!l},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},f91c:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main-container"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[t._m(0),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("v-select",{attrs:{options:t.filterReasons(this.person)},on:{input:t.setStaging},model:{value:t.reasonForArtEligibility,callback:function(e){t.reasonForArtEligibility=e},expression:"reasonForArtEligibility"}})],1)])])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[t._m(1),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("v-select",{attrs:{options:Object.keys(t.whoStageConceptMapHash)},on:{input:t.setStaging},model:{value:t.whoStage,callback:function(e){t.whoStage=e},expression:"whoStage"}})],1)])])]),i("div",{staticClass:"row",staticStyle:{"margin-top":"10px"}},[i("div",{staticClass:"col-md-12"},[i("span",{staticStyle:{"font-weight":"bold",color:"rgba(67, 149, 204, 1)","font-style":"italic",float:"left"}},[t._v("Recent CD4 Count results available?")]),i("input",{staticStyle:{"margin-left":"10px",float:"left","margin-top":"6px"},attrs:{type:"checkbox"},on:{click:function(e){return t.c4dCountAvailableCheck()}}})])]),t.cdCountAvailable?i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("label",{staticStyle:{float:"left","font-weight":"bold"}},[t._v("CD4 Count date")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.cd4CountDate,expression:"cd4CountDate"}],staticClass:"form-control",attrs:{type:"date","aria-describedby":"emailHelp",placeholder:"Search condition"},domProps:{value:t.cd4CountDate},on:{change:t.setStaging,input:function(e){e.target.composing||(t.cd4CountDate=e.target.value)}}})])])]),i("div",{staticClass:"col-md-6"},[t._m(2),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"form-inline"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.cd4CountModifier,expression:"cd4CountModifier"}],staticClass:"form-control",attrs:{name:"stage"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.cd4CountModifier=e.target.multiple?i:i[0]},t.setStaging]}},[i("option",{attrs:{disabled:"",selected:""}},[t._v("Select")]),i("option",{attrs:{value:"<"}},[t._v("<")]),i("option",{attrs:{value:">"}},[t._v(">")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.cd4Count,expression:"cd4Count"}],staticClass:"form-control",staticStyle:{"margin-left":"5px",width:"80%"},attrs:{type:"text","aria-describedby":"emailHelp",placeholder:"Enter Count"},domProps:{value:t.cd4Count},on:{input:[function(e){e.target.composing||(t.cd4Count=e.target.value)},t.setStaging]}})])])])])]):t._e(),t.cdCountAvailable?i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[t._m(3),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("v-select",{attrs:{options:t.locations},on:{search:t.getlocations,input:t.setStaging},model:{value:t.cd4CountLocation,callback:function(e){t.cd4CountLocation=e},expression:"cd4CountLocation"}})],1)])])]):t._e(),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("label",{staticStyle:{float:"left","font-weight":"bold","margin-top":"10px"}},[t._v("Select Condition(s)")]),i("div",{staticClass:"form-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text","aria-describedby":"emailHelp",placeholder:"Search condition"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})])])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("ul",{staticClass:"list-group list-group-flush list-group-striped",staticStyle:{height:"150px",overflow:"hidden","overflow-y":"scroll","text-align":"left"}},t._l(t.filteredList,(function(e,n){return i("li",{key:n,staticClass:"list-group-item"},[i("label",{staticClass:"checkbox-label"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.stageValue,expression:"stageValue"}],attrs:{type:"checkbox"},domProps:{value:e,checked:Array.isArray(t.stageValue)?t._i(t.stageValue,e)>-1:t.stageValue},on:{change:[function(i){var n=t.stageValue,o=i.target,a=!!o.checked;if(Array.isArray(n)){var s=e,r=t._i(n,s);o.checked?r<0&&(t.stageValue=n.concat([s])):r>-1&&(t.stageValue=n.slice(0,r).concat(n.slice(r+1)))}else t.stageValue=a},t.setStaging]}}),i("span",{staticClass:"checkbox-custom rectangular",staticStyle:{"margin-top":"12px","margin-left":"5px"}})]),i("label",{staticStyle:{"margin-left":"16px"}},[t._v(t._s(e))])])})),0)])])])},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("label",{staticStyle:{float:"left","font-weight":"bold"}},[t._v("Reason for Starting")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("label",{staticStyle:{float:"left","font-weight":"bold"}},[t._v("Select Stage")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("label",{staticStyle:{float:"left","font-weight":"bold"}},[t._v("CD4 Count")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("label",{staticStyle:{float:"left","font-weight":"bold"}},[t._v("CD4 Count location")])])])}],a=(i("a4d3"),i("4de4"),i("4160"),i("caad"),i("d81d"),i("b0c0"),i("4fad"),i("e439"),i("dbb4"),i("b64b"),i("ac1f"),i("2532"),i("841c"),i("159b"),i("96cf"),i("1da1")),s=i("ade3"),r=i("4a7a"),l=i.n(r),c=i("8051"),u=i("c1df"),d=i.n(u);function h(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function p(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var f={components:{"v-select":l.a},props:["patientId"],data:function(){return{languages:[],encounterObject:{encounter_id:52,encounter_datetime:null,obs:{stage:{concept_id:7562,value_coded:"",value_text:""},cd4CountDate:{concept_id:6831,value_datetime:""},cd4Count:{concept_id:5497,value_numeric:"",value_modifier:""},cd4CountLocation:{concept_id:6830,value_text:"",location_id:""},cd4250:{concept_id:8262,value_coded:"",value_text:""},cd4350:{concept_id:8207,value_coded:"",value_text:""},cd4500:{concept_id:9389,value_coded:"",value_text:""},cd4750:{concept_id:8208,value_coded:"",value_text:""},reason:{concept_id:7563,value_coded:"",value_text:""}}},encounterDatetime:null,stageValue:[],stateFourValue:[],stateThreeValue:[],stateTwoValue:[],stateOneValue:[],registrationEncounter:this.$store.state.registration.registration,patientAge:null,TODAYS_DATE:new Date,whoStage:null,reasonForArtEligibility:null,isPregnant:null,isBreastFeeding:null,presumedSevereHiv:!1,cd4Count250:null,cd4Count350:null,cd4Count500:null,cd4CountLocation:{},cd4CountDate:null,cd4Count:null,cd4CountModifier:null,lymphocyteCount:null,cd4CountModfier:null,cdCountAvailable:!1,conditions:[],selectedStage:"Select Stage",stageListing:[],search:null,locations:[],lymphocyteThresholds:{"0-2":4e3,"3-4":3e3,5:2500,"6-15":2e3},person:{},CONCEPTS:{1065:"Yes",1066:"No",1040:"Rapid Antibody Test",844:"DNA PCR",1118:"Not Done"},whoStageConceptMapHash:{"WHO STAGE 1":9145,"WHO STAGE 2":9146,"WHO STAGE 3":2932,"WHO STAGE 4":2933,"WHO STAGE I ADULT":7561,"WHO STAGE I ADULT AND PEDS":7041,"WHO STAGE I PEDS":7049,"WHO STAGE II ADULT":7046,"WHO STAGE II ADULT AND PEDS":7042,"WHO STAGE II PEDS":7050,"WHO STAGE III ADULT":7047,"WHO STAGE III ADULT AND PEDS":7043,"WHO STAGE III PEDS":7051,"WHO STAGE IV ADULT":7048,"WHO STAGE IV ADULT AND PEDS":7044,"WHO STAGE IV PEDS":7052},stages:["Stage 4","Stage 3","Stage 2","Stage 1"],stageFourConditions:{id:4,"Cryptococcal meningitis or other extrapulmonary cryptococcosis":7548,"Candidiasis of oseophagus, trachea and bronchi or lungs":5340,"Extrapulmonary tuberculosis (EPTB)":1547,"Kaposis sarcoma":507,"Bacterial pneumonia, severe recurrent":1215,"Non-typhoidal Salmonella bacteraemia, recurrent":7959,"Symptomatic HIV-associated nephropathy or cardiomyopathy":7957,"Cerebral or B-cell non Hodgkin lymphoma":2587,"Pneumocystis pneumonia":882,"Chronic herpes simplex infection (orolabial, gential / anorectal >1 month or visceral at any site)":5344,"Cytomegalovirus infection (retinitis or infection or other organs)":7551,"Toxoplasmosis of the brain":2583,"Invasive cancer of cervix":2588,"Unspecified stage 4 condition":7040,Other:6408},stageThreeConditions:{id:3,Other:6408,"Pneumocystis pneumonia":882,"Candidiasis of oseophagus, trachea and bronchi or lungs":5340,"Extrapulmonary tuberculosis (EPTB)":1547,"Kaposis sarcoma":507,"HIV encephalopathy":1362,"Cryptococcal meningitis or other extrapulmonary cryptococcosis":7548,"Disseminated non-tuberculosis mycobacterial infection":2585,"Cryptosporidiosis, chronic with diarroea":7549,"Isosporiasis >1 month":7956,"Disseminated mycosis (coccidiomycosis or histoplasmosis)":7550,"Symptomatic HIV-associated nephropathy or cardiomyopathy":7957,"Progressive multifocal leukoencephalopathy":5046,"Cerebral or B-cell non Hodgkin lymphoma":2587,"Severe unexplained wasting or malnutrition not responding to treatment (weight-for-height/ -age <70% or MUAC less than 11cm or oedema)":3068,"Bacterial infections, severe recurrent  (empyema, pyomyositis, meningitis, bone/joint infections but EXCLUDING pneumonia)":2894,"Chronic herpes simplex infection (orolabial or cutaneous >1 month or visceral at any site)":7960,"Cytomegalovirus infection: rentinitis or other organ (from age 1 month)":7552,"Toxoplasmosis of the brain (from age 1 month)":5048,"Recto-vaginal fistula, HIV-associated":7961,"Severe weight loss >10% and/or BMI <18.5kg/m^2, unexplained":7540,"Diarrhoea, chronic (>1 month) unexplained":5018,"Fever, persistent unexplained, intermittent or constant, >1 month":5027,"Pulmonary tuberculosis (current)":8206,"Tuberculosis (PTB or EPTB) within the last 2 years":7539,"Oral candidiasis":5334,"Anaemia, unexplained < 8 g/dl":2582,"Neutropaenia, unexplained < 500 /mm(cubed)":7954,"Severe bacterial infections (pneumonia, empyema, pyomyositis, bone/joint, meningitis, bacteraemia)":7541,"Thrombocytopaenia, chronic < 50,000 /mm(cubed)":7955,"Hepatitis B or C infection":8205,"Oral hairy leukoplakia":5337,"Unspecified stage 3 condition":7039},stageTwoConditions:{id:2,"Fever, persistent unexplained, intermittent or constant, >1 month":5027,"Oral hairy leukoplakia":5337,"Pulmonary tuberculosis (current)":8206,"Tuberculosis (PTB or EPTB) within the last 2 years":7539,"Anaemia, unexplained < 8 g/dl":2582,"Neutropaenia, unexplained < 500 /mm(cubed)":7954,"Thrombocytopaenia, chronic < 50,000 /mm(cubed)":7955,"Moderate unexplained wasting/malnutrition not responding to treatment (weight-for-height/ -age 70-79% or muac 11-12 cm)":7543,"Diarrhoea, persistent unexplained (14 days or more)":7544,"Oral candidiasis (from age 2 months)":7545,"Acute necrotizing ulcerative gingivitis or periodontitis":7546,"Lymph node tuberculosis":7547,"Bacterial pneumonia, severe recurrent":1215,"Symptomatic lymphoid interstitial pneumonia":5024,"Chronic HIV-associated lung disease, including bronchiectasis":2889,"Moderate weight loss less than or equal to 10 percent, unexplained":5332,"Respiratory tract infections, recurrent (sinusitis, tonsilitus, otitis media, pharyngitis)":5012,"Seborrhoeic dermatitis":2578,"Papular pruritic eruptions / Fungal nail infections":7536,"Herpes zoster":836,"Angular cheilitis":2575,"Oral ulcerations, recurrent":2576,"Unspecified stage 2 condition":7038},stageOneConditions:{id:1,"Respiratory tract infections, recurrent (sinusitis, tonsilitus, otitis media, pharyngitis)":5012,"Herpes zoster":836,"Angular cheilitis":2575,"Oral ulcerations, recurrent":2576,"Papular pruritic eruptions / Fungal nail infections":7536,"Hepatosplenomegaly, persistent unexplained":7537,"Lineal gingival erythema":2891,"Wart virus infection, extensive":6775,"Molluscum contagiosum, extensive":6776,"Parotid enlargement, persistent unexplained":1210,"Asymptomatic HIV infection":5327,"Persistent generalized lymphadenopathy":5328},REASON_FOR_ART:{"PRESUMED SEVERE HIV":8263,"HIV DNA POLYMERASE CHAIN REACTION":844,"HIV infected":1169,"CD4 COUNT LESS THAN OR EQUAL TO 750":8208,"CD4 COUNT LESS THAN OR EQUAL TO 500":9389,"CD4 COUNT LESS THAN OR EQUAL TO 350":8207,"CD4 count less than or equal to 250":8262,"LYMPHOCYTE COUNT BELOW THRESHOLD WITH WHO STAGE 2":7559,"PATIENT PREGNANT":1755,BREASTFEEDING:5632,Asymptomatic:5006,"LYMPHOCYTE COUNT BELOW THRESHOLD WITH WHO STAGE 1":8376,"WHO STAGE IV ADULT":1207,"WHO STAGE IV PEDS":1223,"WHO STAGE III ADULT":1206,"WHO STAGE III PEDS":1222,"WHO STAGE II ADULT":1205,"WHO STAGE II PEDS":1221,"WHO STAGE I ADULT":1204,"WHO STAGE I PEDS":1220}}},computed:{filteredList:function(){var t=this;return this.search?Object.keys(p({},this.stageOneConditions,{},this.stageTwoConditions,{},this.stageThreeConditions,{},this.stageFourConditions)).filter((function(e){return"id"!=e?e.toLowerCase().includes(t.search.toLowerCase()):""})).sort():Object.keys(p({},this.stageOneConditions,{},this.stageTwoConditions,{},this.stageThreeConditions,{},this.stageFourConditions)).filter((function(t){return"id"!=t?t:""})).sort()}},methods:{saveEncounter:function(){console.log(this.encounterObject),this.buildObservations(),this.$emit("addEncounter",{staging:this.encounterObject})},buildObservations:function(){null!=this.reasonForArtEligibility&&this.addReason(),this.addCd4Count(),null!=this.whoStage&&this.addWhoStages(),null!=this.stageValue&&this.addConditions();var t=this.encounterDatetime.vitals.encounter_datetime;if(null!=t||void 0!=t||""!=t){var e=d()(new Date(t)).format("YYYY-MM-DD");this.encounterObject.encounter_datetime=e}else{var i=d()(new Date).format("YYYY-MM-DD");this.encounterObject.encounter_datetime=i}},buildForStagingGlobalState:function(){this.addReason(),null!=this.cd4CountDate&&(this.encounterObject.obs.cd4CountDate.value_datetime=this.cd4CountDate),null!=this.cd4Count&&(this.encounterObject.obs.cd4Count.value_numeric=this.cd4Count,this.cd4CountRanges()),null!=this.cd4CountModifier&&(this.encounterObject.obs.cd4Count.value_modifier=this.cd4CountModifier),Object.entries(this.cd4CountLocation).length>0&&(this.encounterObject.obs.cd4CountLocation.location_id=this.cd4CountLocation.location_id,this.encounterObject.obs.cd4CountLocation.value_text=this.cd4CountLocation.label),null!=this.whoStage&&this.addWhoStages(),null!=this.stageValue&&this.addConditions();var t=this.encounterDatetime.vitals.encounter_datetime;if(null!=t||void 0!=t||""!=t){var e=d()(new Date(t)).format("YYYY-MM-DD");this.encounterObject.encounter_datetime=e}else{var i=d()(new Date).format("YYYY-MM-DD");this.encounterObject.encounter_datetime=i}},selectedValues:function(){this.buildEncounter()},buildEncounter:function(){console.log(this.reasonForArtEligibility),console.log(this.whoStage),console.log(this.stageValue)},filterReasons:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=[];return"M"===t.gender?e=Object.keys(this.REASON_FOR_ART).filter((function(t){return"PATIENT PREGNANT"!=t&&"BREASTFEEDING"!=t?t:""})).sort():"F"===this.person.gender&&(e=Object.keys(this.REASON_FOR_ART).sort()),e},buildCondition:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=p({},this.stageOneConditions,{},this.stageTwoConditions,{},this.stageThreeConditions,{},this.stageFourConditions);return{concept_id:2743,value_coded:e[t],value_text:t}},addConditions:function(){var t=this;this.stageValue.map((function(e,i){return console.log(e),t.encounterObject.obs["condition".concat(i)]=t.buildCondition(e)}))},builReasonForStarting:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.log(t.id),console.log(this.REASON_FOR_ART[t.reason]),{concept_id:t.id,value_coded:this.REASON_FOR_ART[t.reason],value_text:t.reason}},addWhoStages:function(){this.encounterObject.obs.stage.value_coded=this.whoStageConceptMapHash[this.whoStage],this.encounterObject.obs.stage.value_text=this.whoStage},c4dCountAvailableCheck:function(){this.setStaging(),this.cdCountAvailable?this.cdCountAvailable=!1:0==this.cdCountAvailable&&(this.cdCountAvailable=!0)},cd4CountRanges:function(){this.cd4Count<=250?this.encounterObject.obs.cd4250=this.buildC4DCountAnswer({id:8262,coded:1065,text:"Yes"}):this.encounterObject.obs.cd4250=this.buildC4DCountAnswer({id:8262,coded:1066,text:"No"}),this.cd4Count<=350?this.encounterObject.obs.cd4350=this.buildC4DCountAnswer({id:8207,coded:1065,text:"Yes"}):this.encounterObject.obs.cd4350=this.buildC4DCountAnswer({id:8207,coded:1066,text:"No"}),this.cd4Count<=500?this.encounterObject.obs.cd4500=this.buildC4DCountAnswer({id:9389,coded:1065,text:"Yes"}):this.encounterObject.obs.cd4500=this.buildC4DCountAnswer({id:9389,coded:1066,text:"No"}),this.cd4Count<=750?this.encounterObject.obs.cd4750=this.buildC4DCountAnswer({id:8208,coded:1065,text:"Yes"}):this.encounterObject.obs.cd4750=this.buildC4DCountAnswer({id:8208,coded:1066,text:"No"})},addCd4Count:function(){console.log("Adding CD4 Count...."),console.log(this.cdCountAvailable),this.cdCountAvailable?(this.encounterObject.obs.cd4CountDate.value_datetime=this.cd4CountDate,this.encounterObject.obs.cd4Count.value_numeric=this.cd4Count,this.encounterObject.obs.cd4Count.value_modifier=this.cd4CountModifier,this.encounterObject.obs.cd4CountLocation.location_id=this.cd4CountLocation.location_id,this.encounterObject.obs.cd4CountLocation.value_text=this.cd4CountLocation.label,this.cd4CountRanges()):0==this.cdCountAvailable&&(delete this.encounterObject.obs.cd4CountDate,delete this.encounterObject.obs.cd4Count,delete this.encounterObject.obs.cd4CountLocation,delete this.encounterObject.obs.cd4250,delete this.encounterObject.obs.cd4350,delete this.encounterObject.obs.cd4500,delete this.encounterObject.obs.cd4750,delete this.encounterObject.obs.cd4CountLocation),console.log(this.encounterObject)},buildC4DCountAnswer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{concept_id:t.id,value_coded:t.coded,value_text:t.text}},addReason:function(){this.encounterObject.obs.reason.value_coded=this.REASON_FOR_ART[this.reasonForArtEligibility],this.encounterObject.obs.reason.value_text=this.reasonForArtEligibility},buildReasonForArt:function(){var t=this;if(this.patientAge>14)console.log("Patient Age"),this.whoStage>=3?(console.log("Who stage..."),this.reasonForArtEligibility=""):this.cd4Count<250?this.reasonForArtEligibility="CD4 count less than or equal to 250":this.cd4Count<350?this.reasonForArtEligibility="CD4 COUNT LESS THAN OR EQUAL TO 350":this.cd4Count<500?this.reasonForArtEligibility="CD4 COUNT LESS THAN OR EQUAL TO 500":1==this.whoStage&&this.lymphocyteCount<1200?this.reasonForArtEligibility="LYMPHOCYTE COUNT BELOW THRESHOLD WITH WHO STAGE 1":2==this.whoStage&&this.lymphocyteCount<1200?this.reasonForArtEligibility="LYMPHOCYTE COUNT BELOW THRESHOLD WITH WHO STAGE 2":this.isPregnant?this.reasonForArtEligibility="PATIENT PREGNANT":this.isBreastFeeding&&(this.reasonForArtEligibility="BREASTFEEDING");else{console.log("I am here");var e=this.CONCEPTS[this.registrationEncounter["obs"]["confirmatoryTest"]["value_coded"]];if(console.log(e),"Rapid Antibody Test"==e){console.log("Rapid antiboies test");var i=["Pneumocystis pneumonia","Candidiasis of oseophagus, trachea and bronchi or lungs","Cryptococcal meningitis","Severe unexplained wasting or malnutrition not responding to treatment (weight-for-height/ -age <70% or MUAC less than 11cm or oedema)","Toxoplasmosis of the brain (from age 1 month)"],n=!1;i.forEach((function(e){t.stageValue.includes(e)&&(n=!0)}));var o=this.stageValue.includes("Oral candidiasis")&&this.stageVAlue.includes("Severe sepsis"),a=this.stageValue.includes("Oral candidiasis")&&this.stageVAlue.includes("Severe pneumonia"),s=this.stageValue.includes("Severe pneumonia")&&this.stageVAlue.includes("Severe sepsis");console.log(n),this.presumedSevereHiv=!!n||!!(o||a||s)}"NONE"==this.reasonForArtEligibility&&(this.reasonForArtEligibility="Asymptomatic"),console.log(this.presumedSevereHiv)}},buildStage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"WHO STAGE "+this.NUMERAL_STAGES[t.stage]+" "+t.adult_or_peds},addCD4:function(){this.encounterObject.obs.CD4Less250.concept_id=8262,this.encounterObject.obs.CD4Less250.value_coded=this.cd4Count250,this.encounterObject.obs.CD4Less350.concept_id=8207,this.encounterObject.obs.CD4Less350.value_coded=this.cd4Count350,this.encounterObject.obs.CD4Less500.concept_id=9389,this.encounterObject.obs.CD4Less500.value_coded=this.cd4Count500,this.encounterObject.obs.CD4Location.concept_id=6830,this.encounterObject.obs.CD4Location.value_text=this.cd4CountLocation,this.encounterObject.obs.CD4Date.concept_id=6830,this.encounterObject.obs.CD4Date.value_datetime=this.cd4CountDate,this.encounterObject.obs.CD4Count.concept_id=5497,this.encounterObject.obs.CD4Count.value_numeric=this.cd4Count,this.encounterObject.obs.CD4Count.value_modifier=this.cd4CountModfier},fetchDemographics:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].get("/people/".concat(this.patientId)).then((function(t){t.json().then((function(t){e.person=t,console.log(t),e.calculateAge(t)}))}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),calculateAge:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new Date(t["birthdate"]),i=Math.abs((new Date).getUTCFullYear()-e.getUTCFullYear());this.patientAge=i},patientCanBePregnant:function(){return this.patientAge>12&&this.patientAge<55&&"F"==this.person["gender"]},setStaging:function(){console.log("Set Staging..."),this.encounterDatetime=this.$store.state.registration.registration,this.buildForStagingGlobalState(),this.$store.commit("setStaging",this.encounterObject)},initialize:function(){this.encounterObject,console.log(this.encounterObject)},stageSelect:function(t){console.log(t),4==t?this.stageListing=this.stageFourConditions:3==t?this.stageListing=this.stageThreeConditions:2==t?this.stageListing=this.stageTwoConditions:1==t&&(this.stageListing=this.stageOneConditions)},getlocations:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,i=this,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:"",t.next=3,c["a"].get("/locations?name="+e).then((function(t){t.json().then((function(t){i.locations=t.map((function(t){return{label:t.name,code:t.name,location_id:t.location_id}}))}))}));case 3:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.initialize(),this.fetchDemographics(),this.getlocations()},mounted:function(){this.initialize()}},v=f,g=(i("bf14"),i("2877")),m=Object(g["a"])(v,n,o,!1,null,"387ae092",null);e["a"]=m.exports}}]);
//# sourceMappingURL=chunk-87b9e734.bd64295b.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d3cfa1a"],{"243b":function(t,e,a){"use strict";var r=a("526b"),n=a.n(r);n.a},4632:function(t,e,a){"use strict";var r=a("7949"),n=a.n(r);n.a},"47a0":function(t,e,a){},"526b":function(t,e,a){},7949:function(t,e,a){},8003:function(t,e,a){"use strict";var r=a("47a0"),n=a.n(r);n.a},"870a":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"control-container"},[a("select",{attrs:{id:"quarters"}},[a("option",[t._v("Select cohort quarter")]),t._l(t.quarters,(function(e,r){return a("option",{key:r,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])}))],2),a("button",{ref:"myid",staticClass:"btn btn-primary",attrs:{id:"submit-btn"},on:{click:function(e){return t.selectQuarter(!1)}}},[t._v("Archived report (if available)")]),a("button",{ref:"myid",staticClass:"btn btn-danger",attrs:{id:"generate-btn"},on:{click:function(e){return t.selectQuarter(!0)}}},[t._v("Fresh report")])])},n=[],s={data:function(){return{quarters:[]}},props:["onSubmit"],methods:{selectQuarter:function(t){var e=quarters.value?[quarters.value,t]:[];this.onSubmit(e)},enableBTN:function(){this.$refs.myid.disabled=!1},loadQuarters:function(){var t=[],e="",a=new Date,r=a.getFullYear();a>=new Date(r+"-01-01")&&a<=new Date(r+"-03-31")?e="1 "+r:a>=new Date(r+"-04-01")&&a<=new Date(r+"-06-30")?e="2 "+r:a>=new Date(r+"-07-01")&&a<=new Date(r+"-09-30")?e="3 "+r:a>=new Date(r+"-10-01")&&a<=new Date(r+"-12-31")&&(e="4 "+r);var n=parseInt(e.substring(0,1)),s=0;while(s<5)0==s&&this.addFollowingQ(t,n,r),t.push("Q"+n+" "+r),n=n>0?n-=1:n,r=0==n?r-1:r,n=0==n?n+=4:n,s++;this.quarters=t},addFollowingQ:function(t,e,a){e<4?t.push("Q"+(e+1)+" "+a):t.push("Q1 "+(a+1))}},mounted:function(){this.loadQuarters()}},i=s,o=(a("8003"),a("2877")),u=Object(o["a"])(i,r,n,!1,null,"613dcd70",null);e["a"]=u.exports},9331:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"d-flex",attrs:{id:"wrapper"}},[a("side-bar"),a("div",{attrs:{id:"page-content-wrapper"}},[a("top-nav"),a("div",{staticClass:"cohort"},[a("report-date-picker",{attrs:{onSubmit:t.fetchData}})],1),a("div",{staticStyle:{width:"100%","text-align":"right","margin-top":"25px"}},[a("select",{ref:"subgroup"},[a("option",[t._v("Select sub group")]),a("option",{attrs:{value:"General"}},[t._v("General")]),a("option",{attrs:{value:"Children"}},[t._v("Children")]),a("option",{attrs:{value:"Option B+"}},[t._v("Option B+")])])]),t._m(0)],1)],1)])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"display",attrs:{id:"example",width:"100%"}},[a("thead",[a("tr",[a("th",[t._v("Reg cohort")]),a("th",[t._v("Interval (months)")]),a("th",[t._v("Sub group")]),a("th",{staticClass:"disaggregated-numbers"},[t._v("Total Reg (database)")]),a("th",{staticClass:"disaggregated-numbers"},[t._v("Total Reg (confirmed)")]),a("th",{staticClass:"disaggregated-numbers count-separator"},[t._v("Alive")]),a("th",{staticClass:"disaggregated-numbers"},[t._v("Died")]),a("th",{staticClass:"disaggregated-numbers"},[t._v("Defaulted")]),a("th",{staticClass:"disaggregated-numbers"},[t._v("Stopped")]),a("th",{staticClass:"disaggregated-numbers"},[t._v("TO")]),a("th",{staticClass:"disaggregated-numbers"},[t._v("Unknown")])])]),a("tbody",{attrs:{id:"table-body"}})])}],s=(a("ac1f"),a("1276"),a("96cf"),a("1da1")),i=a("ebd8"),o=a("7c08"),u=a("870a"),l=a("c1df"),c=a.n(l),d=a("8051"),p=a("1157"),h=a.n(p);a("6810");a("2cdf"),a("fd5e"),a("5caa"),a("c3dc"),a("4e95"),a("a8a1"),a("919c"),a("4b69"),a("7dae"),a("a821");var f={name:"reports",components:{"top-nav":i["a"],"side-bar":o["a"],"report-date-picker":u["a"]},methods:{redirect:function(){this.$router.push("/moh")},fetchData:function(t){t&&(this.reportQtr=t[0],this.regenerateReport=t[1],"Select cohort quarter"!=this.reportQtr&&"Select sub group"!=this.$refs.subgroup.value&&this.fetchSurvivalAnalysisData())},fetchSurvivalAnalysisData:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="cohort_survival_analysis?date="+c()().format("YYYY-MM-DD"),e+="&quarter="+this.reportQtr,e+="&age_group="+this.$refs.subgroup.value+"&program_id=1",1==this.regenerateReport?(this.regenerateReport=!1,e+="&regenerate=true"):e+="&regenerate=false",console.log(e),t.next=7,d["a"].get(e,{},{});case 7:a=t.sent,200===a.status&&a.json().then((function(t){return r.loadData(t,r.$refs.subgroup.value)}));case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),loadData:function(t,e){for(var a in this.dTable.fnClearTable(),t){a.split(" ")[1];var r=t[a],n=a,s="",i=0,o=0,u=0,l=0,c=0,d=0,p=0;for(var h in r){var f=r[h];for(var v in f)s=v,"On antiretrovirals"==h?i=r[h][v]:"Defaulted"==h?u=r[h][v]:"Patient died"==h?o=r[h][v]:"Stopped"==h?l=r[h][v]:"Patient transferred out"==h?c=r[h][v]:d=r[h][v],p+=r[h][v]}if(p>0)this.dTable.fnAddData([n,s,e,p,"",i,o,u,l,c,d])}},addClass:function(t){var e=document.getElementById(t),a=e.getElementsByTagName("td");a[5].setAttribute("class","count-separator")},initDataTable:function(){this.dTable=h()("#example").dataTable({order:[[0,"asc"]],fixedHeader:!0,searching:!1,paging:!1,Processing:!0,ServerSide:!0,scroller:{loadingIndicator:!0},dom:"Bfrtip",buttons:[{extend:"copy",title:this.report_title},{extend:"csv",title:this.report_title},{extend:"pdf",title:this.report_title},{extend:"print",title:this.report_title}],columnDefs:[{className:"dt-center",targets:4}]})}},data:function(){return{report_title:"MoH cohort report (Survival analysis)",reportQtr:[],regenerateReport:!1,reportData:null,reportID:null}},mounted:function(){var t=this;this.report_title=sessionStorage.location_name+" "+this.report_title,setTimeout((function(){return t.initDataTable()}),300)}},v=f,g=(a("243b"),a("4632"),a("2877")),b=Object(g["a"])(v,r,n,!1,null,"e6a1fd76",null);e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-7d3cfa1a.6456b9ca.js.map